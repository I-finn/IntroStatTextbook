[
["eda.html", "Chapter 2 Exploratory Data Analysis 2.1 Examining quantitative data 2.2 Examining categorical data", " Chapter 2 Exploratory Data Analysis This chapter focuses on the mechanics and construction of summary statistics and graphs. We use statistical software for generating the summaries and graphs presented in this chapter and book. However, since this might be your first exposure to these concepts, we take our time in this chapter to detail how to create them. Mastery of the content presented in this chapter will be crucial for understanding the methods and techniques introduced in rest of the book. 2.1 Examining quantitative data In this section we will explore techniques for summarizing quantitative variables. For example, consider the loan_amount variable from the loan50 data set, which represents the loan size for all 50 loans in the data set. This variable is quantitative since we can sensibly discuss the numerical difference of the size of two loans. On the other hand, area codes and zip codes are not quantitative, but rather they are categorical variables. Throughout this section and the next, we will apply these methods using the loan50 and county data sets, which were introduced in Section 1.2. If you’d like to review the variables from either data set, see Tables ?? and ??. The county data can be found in the usdata package. The loan50 data can be found in the openintro package. 2.1.1 Scatterplots for paired data A scatterplot provides a case-by-case view of data for two quantitative variables. In Figure ??, a scatterplot was used to examine the homeownership rate against the fraction of housing units that were part of multi-unit properties (e.g. apartments) in the county data set. Another scatterplot is shown in Figure 2.1, comparing the total income of a borrower total_income and the amount they borrowed loan_amount for the loan50 data set. In any scatterplot, each point represents a single case. Since there are 50 cases in loan50, there are 50 points in Figure 2.1. When examining scatterplots, we describe four features: Form - If you were to trace the trend of the points, would the trend be linear or nonlinear? Direction - As values on the x-axis increase, do the y-values tend to increase (positive) or do they decrease (negative)? Strength - How closely to the points follow a trend? Unusual observations or outliers- Are there any unusual observations that do not seem to match the overall pattern of the scatterplot? Figure 2.1: A scatterplot of loan_amount versus total_income for the loan50 data set. Looking at Figure 2.1, we see that there are many borrowers with income below $100,000 on the left side of the graph, while there are a handful of borrowers with income above $250,000. The loan amounts vary from below $10,000 to around $40,000. The data seem to have a linear form, though the relationship between the two variables is quite weak. The direction is positive – as total income increases, the loan amount also tends to increase – and there may be a few unusual observations in the higher income range, though since the relationship is weak, it is hard to tell. Figure 2.2: A scatterplot of the median household income against the poverty rate for the county dataset. Data are from 2017. A statistical model has also been fit to the data and is shown as a dashed line. Figure 2.2 shows a plot of median household income against the poverty rate for r nrow(county) counties. What can be said about the relationship between these variables? The relationship is evidently nonlinear, as highlighted by the dashed line. This is different from previous scatterplots we have seen, which show relationships that do not show much, if any, curvature in the trend. The relationship is moderate to strong, the direction is negative, and there does not appear to be any unusual observations. What do scatterplots reveal about the data, and how are they useful?1 Describe two variables that would have a horseshoe-shaped association in a scatterplot (\\(\\cap\\) or \\(\\frown\\))2 2.1.2 Dot plots and the mean Sometimes we are interested in the distribution of a single variable. In these cases, a dot plot provides the most basic of displays. A dot plot is a one-variable scatterplot; an example using the interest rate of 50 loans is shown in Figure 2.3. #&gt; `stat_bindot()` using `bins = 30`. Pick better value with `binwidth`. Figure 2.3: A dot plot of interest_rate for the loan50 dataset. The rates have been rounded to the nearest percent in this plot, and the distribution’s mean is shown as a red triangle. The mean, often called the average is a common way to measure the center of a distribution of data. To compute the mean interest rate, we add up all the interest rates and divide by the number of observations. The sample mean is often labeled \\(\\bar{x}\\). The letter \\(x\\) is being used as a generic placeholder for the variable of interest and the bar over the \\(x\\) communicates we’re looking at the average interest rate, which for these 50 loans is 11.57%. It’s useful to think of the mean as the balancing point of the distribution, and it’s shown as a triangle in Figure 2.3. Mean. The sample mean can be calculated as the sum of the observed values divided by the number of observations: \\[ \\bar{x} = \\frac{x_1 + x_2 + \\cdots + x_n}{n} \\] Examine the equation for the mean. What does \\(x_1\\) correspond to? And \\(x_2\\) Can you infer a general meaning to what \\(n_i\\) might represent?3 What was \\(n\\) in this sample of loans?4 The loan50 data set represents a sample from a larger population of loans made through Lending Club. We could compute a mean for this population in the same way as the sample mean. However, the population mean has a special label: \\(\\mu\\). The symbol \\(\\mu\\) is the Greek letter mu and represents the average of all observations in the population. Sometimes a subscript, such as \\(_x\\), is used to represent which variable the population mean refers to, e.g. \\(\\mu_x\\). Often times it is too expensive to measure the population mean precisely, so we often estimate \\(\\mu\\) using the sample mean, \\(\\bar{x}\\). The Greek letter \\(\\mu\\) is pronounced mu, listen to the pronunciation here. The average interest rate across all loans in the population can be estimated using the sample data. Based on the sample of 50 loans, what would be a reasonable estimate of \\(\\mu_x\\), the mean interest rate for all loans in the full data set? The sample mean, r round(loan50_mean_intrest_rate, 2), provides a rough estimate of \\(\\mu_x\\). While it is not perfect, this is our single best guess point estimate of the average interest rate of all the loans in the population under study. In Chapter ?? and beyond, we will develop tools to characterize the accuracy of point estimates, like the sample mean. As you might have guessed, point estimates based on larger samples tend to be more accurate than those based on smaller samples. The mean is useful because it allows us to rescale or standardize a metric into something more easily interpretable and comparable. Suppose we would like to understand if a new drug is more effective at treating asthma attacks than the standard drug. A trial of 1500 adults is set up, where 500 receive the new drug, and 1000 receive a standard drug in the control group: New drug Standard drug Number of patients 500 1000 Total asthma attacks 200 300 Comparing the raw counts of 200 to 300 asthma attacks would make it appear that the new drug is better, but this is an artifact of the imbalanced group sizes. Instead, we should look at the average number of asthma attacks per patient in each group: New drug: \\(200 / 500 = 0.4\\) asthma attacks per patient Standard drug: \\(300 / 1000 = 0.3\\) asthma attacks per patient The standard drug has a lower average number of asthma attacks per patient than the average in the treatment group. Provide another examples where the mean is useful for making comparisons. Emilio opened a food truck last year where he sells burritos, and his business has stabilized over the last 3 months. Over that 3 month period, he has made $11,000 while working 625 hours. Emilio’s average hourly earnings provides a useful statistic for evaluating whether his venture is, at least from a financial perspective, worth it: \\[ \\frac{\\$11000}{625\\text{ hours}} = \\$17.60\\text{ per hour} \\] By knowing his average hourly wage, Emilio now has put his earnings into a standard unit that is easier to compare with many other jobs that he might consider. Suppose we want to compute the average income per person in the US. To do so, we might first think to take the mean of the per capita incomes across the 3,142 counties in the data set. What would be a better approach? The county data set is special in that each county actually represents many individual people. If we were to simply average across the income variable, we would be treating counties with 5,000 and 5,000,000 residents equally in the calculations. Instead, we should compute the total income for each county, add up all the counties’ totals, and then divide by the number of people in all the counties. If we completed these steps with the data, we would find that the per capita income for the US is $30,861. Had we computed the simple mean of per capita income across counties, the result would have been just $26,093! This example used what is called a weighted mean. For more information on this topic, check out the following online supplement regarding weighted means. 2.1.3 Boxplots and the five-number summary 2.1.4 Histograms and density plots 2.1.5 Examining variability 2.1.6 Comparing distributions center, shape (symmetric, skewed, normal), spread, outliers side-by-side boxplots, stacked dotplots/histograms 2.2 Examining categorical data Like numerical data, categorical data can also be organized and analyzed. This section introduces tables and other basic tools for categorical data that are used throughout this book. The email data set contains information on 3,921 emails. In this section, we will examine whether the presence of numbers, small or large, in an email provides any useful value in classifying email as spam or not spam. 2.2.1 Contingency tables and bar plots -one cat variable plot - Define frequencies/counts and relative frequencies/proportions - Two-way/contingency tables - Bayes theorem with tables and trees - conditional vs unconditional probabilities Table 2.1 summarizes two variables: Type (spam or not spam) and Number. Number is a categorical variable that describes whether an email contains no numbers, only small numbers (values under 1 million), or at least one big number (a value of 1 million or more). A table that summarizes data for two categorical variables in this way is called a contingency table or two-way table. Each value in the table represents the number of times, or frequency a particular combination of variable outcomes occurred. For example, the value 149 corresponds to the number of emails in the data set that are spam and had no number listed in the email. Row and column totals are also included. The row totals provide the total counts across each row (e.g., \\(149 + 168 + 50 = 367\\)), and column totals are total counts down each column. A table for a single variable is called a frequency table. Table 2.2 is a frequency table for the Number variable. If we replaced the counts with percentages or proportions, the table would be called a relative frequency table. Table 2.1: Contingency table of Type and Number variables. none small big Total spam 149 168 50 367 not spam 400 2659 495 3554 Total 549 2827 545 3921 Table 2.2: Frequency table of Number variable. none small big 549 2827 545 2.2.1.1 Segmented bar and mosaic plots two cat plot 2.2.2 Why not pie charts? Answers may vary. Scatterplots are helpful in quickly spotting associations relating variables, whether those associations come in the form of simple trends or whether those relationships are more complex.↩︎ Consider the case where your vertical axis represents something “good” and your horizontal axis represents something that is only good in moderation. Health and water consumption fit this description: we require some water to survive, but consume too much and it become toxic and can kill a person.↩︎ \\(x_1\\) corresponds to the interest rate for the first loan in the sample, \\(x_2\\) to the second loan’s interest rate, and \\(x_i\\) corresponds to the interest rate for the \\(i^{th}\\) loan in the data set. For example, if \\(i = 4\\), then we’re examining \\(x_4\\), which refers to the fourth observation in the data set.↩︎ The sample size was \\(n = 50\\).↩︎ "]
]
