<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 Introduction to data | Montana State Introductory Statistics with R</title>
<meta name="author" content="Nicole Carnegie, Stacey Hancock, Elijah Meyer, Jade Schmidt, Melinda Yager">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet">
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><script src="libs/plotly-binding-4.9.4.1/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script><script type="text/x-mathjax-config">
    const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
    for (let popover of popovers){
      const div = document.createElement('div');
      div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
      div.innerHTML = popover.getAttribute('data-content');
      
      // Will this work with TeX on its own line?
      var has_math = div.querySelector("span.math");
      if (has_math) {
        document.body.appendChild(div);
      	MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
      	MathJax.Hub.Queue(function(){
          popover.setAttribute('data-content', div.innerHTML);
      	})
      }
    }
    </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/oistyle.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Spring 2021">Montana State Introductory Statistics with R</a>:
        <small class="text-muted">Spring 2021</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="rstudio.html">Preliminaries: Getting started in RStudio</a></li>
<li><a class="active" href="intro-to-data.html"><span class="header-section-number">1</span> Introduction to data</a></li>
<li><a class="" href="eda.html"><span class="header-section-number">2</span> Exploratory data analysis</a></li>
<li><a class="" href="cor-reg.html"><span class="header-section-number">3</span> Correlation and regression</a></li>
<li><a class="" href="mult-reg.html"><span class="header-section-number">4</span> Multivariable models</a></li>
<li><a class="" href="inference-cat.html"><span class="header-section-number">5</span> Inference for categorical data</a></li>
<li><a class="" href="inference-num.html"><span class="header-section-number">6</span> Inference for quantitative data</a></li>
<li><a class="" href="inference-reg.html"><span class="header-section-number">7</span> Inference for regression</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/MTstateIntroStats/IntroStatTextbook">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="intro-to-data" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Introduction to data<a class="anchor" aria-label="anchor" href="#intro-to-data"><i class="fas fa-link"></i></a>
</h1>
<div class="chapterintro">
<p>Scientists seek to answer questions using rigorous methods and careful observations.
These observations—collected from the likes of field notes, surveys, and experiments—form the backbone of a statistical investigation and are called <strong>data</strong>.
Statistics is the study of how best to collect, analyze, and draw conclusions from data, and in this first chapter, we focus on both the properties of data and on the collection of data.</p>
</div>
<p>Though we were calculating probabilities in the 16th century, and the first US Census was directed by Thomas Jefferson in 1790<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="https://www.census.gov/history/www/through_the_decades/overview/1790.html" class="uri"&gt;https://www.census.gov/history/www/through_the_decades/overview/1790.html&lt;/a&gt;&lt;/p&gt;'><sup>1</sup></a>, the discipline of statistics as we know it came about in the 1800s. Up until the 21st century, the <strong>statistical investigation process</strong> looked something like this (adapted from <span class="citation"><a href="references.html#ref-ISI2016" role="doc-biblioref">Tintle et al.</a> (<a href="references.html#ref-ISI2016" role="doc-biblioref">2016</a>)</span>):</p>
<ol style="list-style-type: decimal">
<li>Ask a research question.</li>
<li>Design a study and collect data.</li>
<li>Summarize and visualize the data.</li>
<li>Use statistical analysis methods to draw inferences from the data.</li>
<li>Communicate the results and answer the research question.</li>
<li>Revisit and look forward.</li>
</ol>
<p>With the rise of data science, however, we might not start with a research question,
and instead start with a data set<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Data used in this context are called “found data.”&lt;/p&gt;"><sup>2</sup></a>.
In this case, the statistical investigation process looks more like the data exploration cycle found in Figure <a href="intro-to-data.html#fig:data-science-explore">1.1</a> taken from <span class="citation"><a href="references.html#ref-R4DS" role="doc-biblioref">Wickham and Grolemund</a> (<a href="references.html#ref-R4DS" role="doc-biblioref">2017</a>)</span>.</p>
<div class="figure" style="text-align: center">
<span id="fig:data-science-explore"></span>
<img src="01/images/data-science-explore.png" alt="Wickham and Grolemund's data exploration cycle (2017)." width="75%"><p class="caption">
Figure 1.1: Wickham and Grolemund’s data exploration cycle (2017).
</p>
</div>
<p>In either case, the ideas, concepts, and methods presented in this book will provide you with the tools to work through the statistical investigation process, whether starting with a research question or starting with data.</p>
<div id="basic-stents-strokes" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Case study: using stents to prevent strokes<a class="anchor" aria-label="anchor" href="#basic-stents-strokes"><i class="fas fa-link"></i></a>
</h2>
<p></p>
<p>In this section, we introduce a classic challenge in statistics: evaluating the efficacy of a medical treatment.
Terms in this section, and indeed much of this chapter, will all be revisited later in the text.
The plan for now is simply to get a sense of the role statistics can play in practice.</p>
<p>Here, we will consider an experiment that studies effectiveness of stents in treating patients at risk of stroke <span class="citation">(<a href="references.html#ref-chimowitz2011stenting" role="doc-biblioref">Chimowitz et al. 2011</a>)</span>.
Stents are small mesh tubes that are placed inside narrow or weak arteries to assist in patient recovery after cardiac events and reduce the risk of an additional heart attack or death.</p>
<p>Many doctors have hoped that there would be similar benefits for patients at risk of stroke. We start by writing the principal question the researchers hope to answer:</p>
<blockquote>
<p>Does the use of stents reduce the risk of stroke?</p>
</blockquote>
<p>The researchers who asked this question conducted an experiment with 451 at-risk patients. Each volunteer patient was randomly assigned to one of two groups:</p>
<ul>
<li>
<strong>Treatment group</strong>. Patients in the treatment group received a stent and medical management.
The medical management included medications, management of risk factors, and help in lifestyle modification.</li>
<li>
<strong>Control group</strong>. Patients in the control group received the same medical management as the treatment group, but they did not receive stents.</li>
</ul>
<p>Researchers randomly assigned 224 patients to the treatment group and 227 to the control group.
In this study, the control group provides a reference point against which we can measure the medical impact of stents in the treatment group.</p>
<p>Researchers studied the effect of stents at two time points: 30 days after enrollment and 365 days after enrollment.
The data collected on 5 of these patients are summarized in Table <a href="intro-to-data.html#tab:stentStudyResultsDF">1.1</a>.
Patient outcomes are recorded as <code>stroke</code> or <code>no event</code>, representing whether or not the patient had a stroke during that time period.</p>
<div class="data">
<p>The data from this study can be found in the <a href="http://openintrostat.github.io/openintro">openintro</a> package: <a href="http://openintrostat.github.io/openintro/reference/stent30.html"><code>stent30</code></a> and <a href="http://openintrostat.github.io/openintro/reference/stent365.html"><code>stent365</code></a>.</p>
</div>
<div class="inline-table"><table class="table table-striped table-condensed" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:stentStudyResultsDF">Table 1.1: </span>Results for five patients from the stent study.
</caption>
<thead><tr>
<th style="text-align:right;">
patient
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
30 days
</th>
<th style="text-align:left;">
365 days
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
treatment
</td>
<td style="text-align:left;">
no event
</td>
<td style="text-align:left;">
no event
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
treatment
</td>
<td style="text-align:left;">
stroke
</td>
<td style="text-align:left;">
stroke
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
treatment
</td>
<td style="text-align:left;">
no event
</td>
<td style="text-align:left;">
no event
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
treatment
</td>
<td style="text-align:left;">
no event
</td>
<td style="text-align:left;">
no event
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
control
</td>
<td style="text-align:left;">
no event
</td>
<td style="text-align:left;">
no event
</td>
</tr>
</tbody>
</table></div>
<p>Considering data from each of the 451 patients individually would be a long, cumbersome path towards answering the original research question.
Instead, performing a statistical data analysis allows us to consider all of the data at once.
Table <a href="intro-to-data.html#tab:stentStudyResultsDFsummary">1.2</a> summarizes the raw data in a more helpful way.
In this table, we can quickly see what happened over the entire study.
For instance, to identify the number of patients in the treatment group who had a stroke within 30 days after the treatment, we look in the leftmost column (30 days), at the intersection of treatment and stroke: 33.
To identify the number of control patients who did not have a stroke after 365 days after receiving treatment, we look at the rightmost column (365 days), at the intersection of control and no event: 199.</p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:stentStudyResultsDFsummary">Table 1.2: </span>Descriptive statistics for the stent study.
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; border-bottom: 2px solid" colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
30 days
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; border-bottom: 2px solid" colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
365 days
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
stroke
</th>
<th style="text-align:right;">
no event
</th>
<th style="text-align:right;">
stroke
</th>
<th style="text-align:right;">
no event
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-top: 2px solid">
treatment
</td>
<td style="text-align:right;border-top: 2px solid">
33
</td>
<td style="text-align:right;border-top: 2px solid">
191
</td>
<td style="text-align:right;border-top: 2px solid">
45
</td>
<td style="text-align:right;border-top: 2px solid">
179
</td>
</tr>
<tr>
<td style="text-align:left;">
control
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
214
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
199
</td>
</tr>
<tr>
<td style="text-align:left;border-top: 2px solid">
Total
</td>
<td style="text-align:right;border-top: 2px solid">
46
</td>
<td style="text-align:right;border-top: 2px solid">
405
</td>
<td style="text-align:right;border-top: 2px solid">
73
</td>
<td style="text-align:right;border-top: 2px solid">
378
</td>
</tr>
</tbody>
</table></div>
<p>The data summarized in this table can also be visualized with a <strong>barplot</strong>, seen in Figure <a href="intro-to-data.html#fig:stentStudyResultsDFbarplot">1.2</a>:</p>
<div class="figure" style="text-align: center">
<span id="fig:stentStudyResultsDFbarplot"></span>
<img src="01-intro-to-data_files/figure-html/stentStudyResultsDFbarplot-1.png" alt="Segmented barplot of outcomes in stent study by group and time." width="70%"><p class="caption">
Figure 1.2: Segmented barplot of outcomes in stent study by group and time.
</p>
</div>
<div class="guidedpractice">
<p>Of the 224 patients in the treatment group, 45 had a stroke by the end of the first year.
Using these two numbers, compute the proportion of patients in the treatment group who had a stroke by the end of their first year.
(Note: answers to all Guided Practice exercises are provided in footnotes!)<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;The proportion of the 224 patients who had a stroke within 365 days: &lt;span class="math inline"&gt;\(45/224 = 0.20\)&lt;/span&gt;.&lt;/p&gt;'><sup>3</sup></a></p>
</div>
<p>We can compute summary statistics from the table to give us a better idea of how the impact of the stent treatment differed between the two groups.
A <strong>summary statistic</strong> is a single number summarizing a large amount of data.
For instance, the primary results of the study after 1 year could be described by two summary statistics: the proportion of people who had a stroke in the treatment and control groups.</p>
<ul>
<li>Proportion who had a stroke in the treatment (stent) group: <span class="math inline">\(45/224 = 0.20 = 20\%\)</span>.</li>
<li>Proportion who had a stroke in the control group: <span class="math inline">\(28/227 = 0.12 = 12\%\)</span>.</li>
</ul>
<p>These two summary statistics are useful in looking for differences in the groups, and we are in for a surprise: an additional 8% of patients in the treatment group had a stroke!
This is important for two reasons.
First, it is contrary to what doctors expected, which was that stents would <em>reduce</em> the rate of strokes.
Second, it leads to a statistical question: do the data show a “real” difference between the groups?</p>
<p>This second question is subtle, and is the basis of what we call <strong>statistical inference</strong>.
Suppose you flip a coin 100 times. While the chance a coin lands heads in any given coin flip is 50%, we probably won’t observe exactly 50 heads.
This type of fluctuation is part of almost any type of data generating process.
It is possible that the 8% difference in the stent study is due to this natural variation.
However, the larger the difference we observe (for a particular sample size), the less believable it is that the difference is due to chance.
So what we are really asking is the following: is the difference so large that we should reject the notion that it was due to chance?</p>
<p>While we don’t yet have our statistical tools to fully address this question on our own, we can comprehend the conclusions of the published analysis: there was compelling evidence of harm by stents in this study of stroke patients.</p>
<div class="importantbox">
<p><strong>Be careful.</strong>
Do not generalize the results of this study to all patients and all stents.
This study looked at patients with very specific characteristics who volunteered to be a part of this study and who may not be representative of all stroke patients.
In addition, there are many types of stents and this study only considered the self-expanding Wingspan stent (Boston Scientific).
However, this study does leave us with an important lesson: we should keep our eyes open for surprises.</p>
</div>
<p></p>
</div>
<div id="data-basics" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> Data basics<a class="anchor" aria-label="anchor" href="#data-basics"><i class="fas fa-link"></i></a>
</h2>
<p>Effective presentation and description of data is a first step in most analyses. This section introduces one structure for organizing data as well as some terminology that will be used throughout this book.</p>
<div id="observations-variables-and-data-frames" class="section level3" number="1.2.1">
<h3>
<span class="header-section-number">1.2.1</span> Observations, variables, and data frames<a class="anchor" aria-label="anchor" href="#observations-variables-and-data-frames"><i class="fas fa-link"></i></a>
</h3>
<p></p>
<p>Here, we will consider loans offered through the Lending Club, a peer-to-peer lending company. Such data could be used to explore characteristics of people receiving loans from the platform, such as job titles, annual income, or home ownership. Table <a href="intro-to-data.html#tab:loan50DF">1.3</a> displays six rows of a data set for 50 randomly sampled loans. These observations will be referred to as the <code>loan50</code> data set.</p>
<div class="data">
<p>The data can be found in the <a href="http://openintrostat.github.io/openintro">openintro</a> package: <a href="http://openintrostat.github.io/openintro/reference/loan50.html"><code>loan50</code></a>.</p>
</div>
<p>Each row in the table represents a single loan.
The formal name for a row is a <strong>case</strong> or <strong>observational unit</strong>. Since there are 50 observational units in our data set, the <strong>sample size</strong>, denoted by <span class="math inline">\(n\)</span>, is 50 (<span class="math inline">\(n = 50\)</span>).
The columns represent characteristics of each loan, where each column is referred to as a <strong>variable</strong>. For example, the first row represents a loan of $7,500 with an interest rate of 7.34%, where the borrower is based in Maryland (MD) and has an income of $70,000.</p>
<div class="protip">
<p>A variable is something that can be measured on an individual observational unit.
Be careful not to confuse summary statistics—calculated from a <em>group</em> of observational units—with variables.</p>
</div>
<div class="guidedpractice">
<p>What is the grade of the first loan in Table <a href="intro-to-data.html#tab:loan50DF">1.3</a>?
What is the home ownership status of the borrower for that first loan?
Reminder: for these Guided Practice questions, you can check your answer in the footnote.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;The loan’s grade is B, and the borrower rents their residence.&lt;/p&gt;"><sup>4</sup></a></p>
</div>
<p>In practice, it is especially important to ask clarifying questions to ensure important aspects of the data are understood.
For instance, it is always important to be sure we know what each variable means and its units of measurement.
Descriptions of the variables in the <code>loan50</code> data set are given in Table <a href="intro-to-data.html#tab:loan50Variables">1.4</a>.</p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:loan50DF">Table 1.3: </span>Six rows from the <code>loan50</code> data set.
</caption>
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
loan_amount
</th>
<th style="text-align:right;">
interest_rate
</th>
<th style="text-align:right;">
term
</th>
<th style="text-align:left;">
grade
</th>
<th style="text-align:left;">
state
</th>
<th style="text-align:right;">
total_income
</th>
<th style="text-align:left;">
homeownership
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
22000
</td>
<td style="text-align:right;">
10.90
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
NJ
</td>
<td style="text-align:right;">
59000
</td>
<td style="text-align:left;">
rent
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
6000
</td>
<td style="text-align:right;">
9.92
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
CA
</td>
<td style="text-align:right;">
60000
</td>
<td style="text-align:left;">
rent
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
25000
</td>
<td style="text-align:right;">
26.30
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:left;">
E
</td>
<td style="text-align:left;">
SC
</td>
<td style="text-align:right;">
75000
</td>
<td style="text-align:left;">
mortgage
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
6000
</td>
<td style="text-align:right;">
9.92
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
CA
</td>
<td style="text-align:right;">
75000
</td>
<td style="text-align:left;">
rent
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:right;">
25000
</td>
<td style="text-align:right;">
9.43
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
OH
</td>
<td style="text-align:right;">
254000
</td>
<td style="text-align:left;">
mortgage
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:right;">
6400
</td>
<td style="text-align:right;">
9.92
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
IN
</td>
<td style="text-align:right;">
67000
</td>
<td style="text-align:left;">
mortgage
</td>
</tr>
</tbody>
</table></div>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:loan50Variables">Table 1.4: </span>Variables and their descriptions for the <code>loan50</code> data set.
</caption>
<thead><tr>
<th style="text-align:left;">
variable
</th>
<th style="text-align:left;">
description
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
loan_amount
</td>
<td style="text-align:left;">
Amount of the loan received, in US dollars.
</td>
</tr>
<tr>
<td style="text-align:left;">
interest_rate
</td>
<td style="text-align:left;">
Interest rate on the loan, in an annual percentage.
</td>
</tr>
<tr>
<td style="text-align:left;">
term
</td>
<td style="text-align:left;">
The length of the loan, which is always set as a whole number of months.
</td>
</tr>
<tr>
<td style="text-align:left;">
grade
</td>
<td style="text-align:left;">
Loan grade, which takes on values A through G and represents the quality of the loan and its likelihood of being repaid.
</td>
</tr>
<tr>
<td style="text-align:left;">
state
</td>
<td style="text-align:left;">
US state where the borrower resides.
</td>
</tr>
<tr>
<td style="text-align:left;">
total_income
</td>
<td style="text-align:left;">
Borrower’s total income, including any second income, in US dollars.
</td>
</tr>
<tr>
<td style="text-align:left;">
homeownership
</td>
<td style="text-align:left;">
Indicates whether the person owns, owns but has a mortgage, or rents.
</td>
</tr>
</tbody>
</table></div>
<p></p>
<p>The data in Table <a href="intro-to-data.html#tab:loan50DF">1.3</a> represent a <strong>data frame</strong> (or data matrix), which is a convenient and common way to organize data, especially if collecting data in a spreadsheet.
Each row of a data frame corresponds to a unique case (observational unit), and each column corresponds to a variable.</p>
<p>When recording data, use a data frame unless you have a very good reason to use a different structure.
This structure allows new cases to be added as rows or new variables as new columns.</p>
<div class="guidedpractice">
<p>The grades for assignments, quizzes, and exams in a course are often recorded in a gradebook that takes the form of a data frame.
How might you organize a course’s grade data using a data frame?<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;There are multiple strategies that can be followed. One common strategy is to have each student represented by a row, and then add a column for each assignment, quiz, or exam. Under this setup, it is easy to review a single line to understand the grade history of a student. There should also be columns to include student information, such as one column to list student names.&lt;/p&gt;"><sup>5</sup></a></p>
</div>
<p></p>
<div class="guidedpractice">
<p>We consider data for 3,142 counties in the United States,
which include the name of each county, the state where it resides, its population in 2017, how its population changed from 2010 to 2017, poverty rate, and nine additional characteristics.
How might these data be organized in a data frame?<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Each county may be viewed as a case, and there are eleven pieces of information recorded for each case. A table with 3,142 rows and 14 columns could hold these data, where each row represents a county and each column represents a particular piece of information.&lt;/p&gt;"><sup>6</sup></a></p>
</div>
<p>The data described in the Guided Practice above represent the <strong>county</strong> data set, which is shown as a data frame in Table <a href="intro-to-data.html#tab:countyDF">1.5</a>.
The variables as well as the variables in the data set that did not fit in Table <a href="intro-to-data.html#tab:countyDF">1.5</a> are described in Table <a href="intro-to-data.html#tab:countyVariables">1.6</a></p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:countyDF">Table 1.5: </span>Six observations and six variables from the <code>county</code> data set.
</caption>
<thead><tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
state
</th>
<th style="text-align:right;">
pop2017
</th>
<th style="text-align:right;">
pop_change
</th>
<th style="text-align:right;">
unemployment_rate
</th>
<th style="text-align:left;">
median_edu
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Autauga County
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:right;">
55504
</td>
<td style="text-align:right;">
1.48
</td>
<td style="text-align:right;">
3.86
</td>
<td style="text-align:left;">
some_college
</td>
</tr>
<tr>
<td style="text-align:left;">
Baldwin County
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:right;">
212628
</td>
<td style="text-align:right;">
9.19
</td>
<td style="text-align:right;">
3.99
</td>
<td style="text-align:left;">
some_college
</td>
</tr>
<tr>
<td style="text-align:left;">
Barbour County
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:right;">
25270
</td>
<td style="text-align:right;">
-6.22
</td>
<td style="text-align:right;">
5.90
</td>
<td style="text-align:left;">
hs_diploma
</td>
</tr>
<tr>
<td style="text-align:left;">
Bibb County
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:right;">
22668
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
4.39
</td>
<td style="text-align:left;">
hs_diploma
</td>
</tr>
<tr>
<td style="text-align:left;">
Blount County
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:right;">
58013
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
4.02
</td>
<td style="text-align:left;">
hs_diploma
</td>
</tr>
<tr>
<td style="text-align:left;">
Bullock County
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:right;">
10309
</td>
<td style="text-align:right;">
-2.28
</td>
<td style="text-align:right;">
4.93
</td>
<td style="text-align:left;">
hs_diploma
</td>
</tr>
</tbody>
</table></div>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:countyVariables">Table 1.6: </span>Variables and their descriptions for the <code>county</code> data set.
</caption>
<thead><tr>
<th style="text-align:left;">
variable
</th>
<th style="text-align:left;">
description
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
name
</td>
<td style="text-align:left;">
Name of county.
</td>
</tr>
<tr>
<td style="text-align:left;">
state
</td>
<td style="text-align:left;">
Name of state.
</td>
</tr>
<tr>
<td style="text-align:left;">
pop2000
</td>
<td style="text-align:left;">
Population in 2000.
</td>
</tr>
<tr>
<td style="text-align:left;">
pop2010
</td>
<td style="text-align:left;">
Population in 2010.
</td>
</tr>
<tr>
<td style="text-align:left;">
pop2017
</td>
<td style="text-align:left;">
Population in 2017.
</td>
</tr>
<tr>
<td style="text-align:left;">
pop_change
</td>
<td style="text-align:left;">
Population change from 2010 to 2017.
</td>
</tr>
<tr>
<td style="text-align:left;">
poverty
</td>
<td style="text-align:left;">
Percent of population in poverty in 2017.
</td>
</tr>
<tr>
<td style="text-align:left;">
homeownership
</td>
<td style="text-align:left;">
Homeownership rate, 2006-2010.
</td>
</tr>
<tr>
<td style="text-align:left;">
multi_unit
</td>
<td style="text-align:left;">
Percent of housing units in multi-unit structures, 2006-2010.
</td>
</tr>
<tr>
<td style="text-align:left;">
unemployment_rate
</td>
<td style="text-align:left;">
Unemployment rate in 2017.
</td>
</tr>
<tr>
<td style="text-align:left;">
metro
</td>
<td style="text-align:left;">
Whether the county contains a metropolitan area, taking one of the values <code>yes</code> or <code>no</code>.
</td>
</tr>
<tr>
<td style="text-align:left;">
median_edu
</td>
<td style="text-align:left;">
Median education level (2013-2017), taking one of the values <code>below_hs</code>, <code>hs_diploma</code>, <code>some_college</code>, or <code>bachelors</code>.
</td>
</tr>
<tr>
<td style="text-align:left;">
per_capita_income
</td>
<td style="text-align:left;">
Per capita (per person) income (2013-2017).
</td>
</tr>
<tr>
<td style="text-align:left;">
median_hh_income
</td>
<td style="text-align:left;">
Median household income.
</td>
</tr>
<tr>
<td style="text-align:left;">
smoking_ban
</td>
<td style="text-align:left;">
Describes whether the type of county-level smoking ban in place in 2010, taking one of the values <code>none</code>, <code>partial</code>, or <code>comprehensive</code>.
</td>
</tr>
</tbody>
</table></div>
<div class="data">
<p>These data can be found in the <a href="http://openintrostat.github.io/usdata">usdata</a> package: <a href="http://openintrostat.github.io/usdata/reference/county.html"><code>county</code></a>.</p>
</div>
</div>
<div id="variable-types" class="section level3" number="1.2.2">
<h3>
<span class="header-section-number">1.2.2</span> Types of variables<a class="anchor" aria-label="anchor" href="#variable-types"><i class="fas fa-link"></i></a>
</h3>
<p>Examine the <code>unemployment_rate</code>, <code>pop2017</code>, <code>state</code>, <code>metro</code>, and <code>median_edu</code> variables in the <code>county</code> data set.
Each of these variables is inherently different from the others, yet some share certain characteristics.</p>
<p>First consider <code>unemployment_rate</code>, which is said to be a <strong>quantitative</strong> or <strong>numerical</strong> variable since it can take a wide range of numerical values, and it is sensible to add, subtract, or take averages with those values.
On the other hand, we would not classify a variable reporting telephone area codes as quantitative since the average, sum, and difference of area codes doesn’t have any clear meaning.</p>
<p>The <code>pop2017</code> variable is also quantitative, although it seems to be a little different than <code>unemployment_rate</code>.
This variable of the population count can only take whole non-negative numbers (0, 1, 2, …).
For this reason, the population variable is said to be <strong>discrete</strong> since it can only take numerical values with jumps.
On the other hand, the unemployment rate variable is said to be <strong>continuous</strong>.</p>
<p>The variable <code>state</code> can take up to 51 values after accounting for Washington, DC: AL, AK, …, and WY.
Because the responses themselves are categories, <code>state</code> is called a <strong>categorical</strong> variable, and the possible values are called the variable’s <strong>levels</strong> . The variable <code>metro</code> is also categorical, but it only has two levels (yes or no). A categorical variable with only two levels is called a <strong>binary</strong> variable. When working with a generic binary variable, we often call the two possible levels “success” and “failure.”</p>
<p>Finally, consider the <code>median_edu</code> variable, which describes the median education level of county residents and takes values <code>below_hs</code>, <code>hs_diploma</code>, <code>some_college</code>, or <code>bachelors</code> in each county.
This variable seems to be a hybrid: it is a categorical variable but the levels have a natural ordering.
A variable with these properties is called an <strong>ordinal</strong> variable, while a regular categorical variable without this type of special ordering is called a <strong>nominal</strong> variable.
To simplify analyses, any ordinal variable in this book will be treated as a nominal (unordered) categorical variable.</p>
<div class="figure" style="text-align: center">
<span id="fig:variables"></span>
<img src="01/figures/variables/variables.png" alt="Breakdown of variables into their respective types." width="75%"><p class="caption">
Figure 1.3: Breakdown of variables into their respective types.
</p>
</div>
<div class="workedexample">
<p>Data were collected about students in a statistics course.
Three variables were recorded for each student: number of siblings, student height, and whether the student had previously taken a statistics course.
Classify each of the variables as continuous quantitative, discrete quantitative, or categorical.</p>
<hr>
<p>The number of siblings and student height represent quantitative variables.
Because the number of siblings is a count, it is discrete.
Height varies continuously, so it is a continuous quantitative variable.
The last variable classifies students into two categories—those who have and those who have not taken a statistics course—which makes this variable categorical.</p>
</div>
<p></p>
<div class="guidedpractice">
<p>An experiment is evaluating the effectiveness of a new drug in treating migraines.
A <code>group</code> variable is used to indicate the experiment group for each patient: treatment or control.
The <code>num_migraines</code> variable represents the number of migraines the patient experienced during a 3-month period. Classify each variable as either quantitative or categorical.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;The &lt;code&gt;group&lt;/code&gt; variable can take just one of two group names, making it categorical. The &lt;code&gt;num_migraines&lt;/code&gt; variable describes a count of the number of migraines, which is an outcome where basic arithmetic is sensible, which means this is numerical outcome; more specifically, since it represents a count, &lt;code&gt;num_migraines&lt;/code&gt; is a discrete quantitative variable.&lt;/p&gt;"><sup>7</sup></a></p>
</div>
</div>
<div id="variable-relations" class="section level3" number="1.2.3">
<h3>
<span class="header-section-number">1.2.3</span> Relationships between variables<a class="anchor" aria-label="anchor" href="#variable-relations"><i class="fas fa-link"></i></a>
</h3>
<p>Many analyses are motivated by a researcher looking for a relationship between two or more variables.
A social scientist may like to answer some of the following questions:</p>
<blockquote>
<p>Does a higher than average increase in county population tend to correspond to counties with higher or lower median household incomes?</p>
</blockquote>
<blockquote>
<p>If homeownership is lower than the national average in one county, will the percent of multi-unit structures in that county tend to be above or below the national average?</p>
</blockquote>
<blockquote>
<p>How useful a predictor is median education level for the median household income for US counties?</p>
</blockquote>
<p>To answer these questions, data must be collected, such as the <code>county</code> data set shown in Table <a href="intro-to-data.html#tab:countyDF">1.5</a>.
Examining <strong>summary statistics</strong> could provide insights for each of the three questions about counties.
Additionally, graphs can be used to visually explore the data.</p>
<p><strong>Scatterplots</strong> are one type of graph used to study the relationship between two quantitative variables.
Figure <a href="intro-to-data.html#fig:county-multi-unit-homeownership">1.4</a> displays the relationship between the variables <code>homeownership</code> and <code>multi_unit</code>, which is the percent of units in multi-unit structures (e.g., apartments, condos).
Each point on the plot represents a single county (a single observational unit).
For instance, the highlighted dot corresponds to County 413 in the <code>county</code> data set: Chattahoochee County, Georgia, which has 39.4% of units in multi-unit structures and a homeownership rate of 31.3%.
The scatterplot suggests a relationship between the two variables: counties with a higher rate of multi-units tend to have lower homeownership rates.
We might brainstorm as to why this relationship exists and investigate each idea to determine which are the most reasonable explanations.</p>
<div class="figure" style="text-align: center">
<span id="fig:county-multi-unit-homeownership"></span>
<img src="01-intro-to-data_files/figure-html/county-multi-unit-homeownership-1.png" alt="A scatterplot of homeownership versus the percent of units that are in multi-unit structures for US counties. The highlighted dot represents Chattahoochee County, Georgia, which has a multi-unit rate of 39.4% and a homeownership rate of 31.3%." width="70%"><p class="caption">
Figure 1.4: A scatterplot of homeownership versus the percent of units that are in multi-unit structures for US counties. The highlighted dot represents Chattahoochee County, Georgia, which has a multi-unit rate of 39.4% and a homeownership rate of 31.3%.
</p>
</div>
<p>The multi-unit and homeownership rates are said to be associated because the plot shows a discernible pattern.
When two variables show some connection with one another, they are called <strong>associated</strong> variables.
Associated variables can also be called <strong>dependent</strong> variables and vice-versa.</p>
<div class="guidedpractice">
<p>Examine the variables in the <code>loan50</code> data set, which are described in Table <a href="intro-to-data.html#tab:loan50Variables">1.4</a>.
Create two questions about possible relationships between variables in <code>loan50</code> that are of interest to you.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Two example questions: (1) What is the relationship between loan amount and total income? (2) If someone’s income is above the average, will their interest rate tend to be above or below the average?&lt;/p&gt;"><sup>8</sup></a></p>
</div>
<div class="workedexample">
<p>This example examines the relationship between the change in population from 2010 to 2017 and median household income for counties, which is visualized as a scatterplot in Figure <a href="intro-to-data.html#fig:county-pop-change-med-hh-income">1.5</a>.
Are these variables associated?</p>
<hr>
<p>The larger the median household income for a county, the higher the population growth observed for the county.
While this trend isn’t true for every county, the trend in the plot is evident. Since there is some relationship between the variables, they are associated.</p>
</div>
<div class="figure" style="text-align: center">
<span id="fig:county-pop-change-med-hh-income"></span>
<img src="01-intro-to-data_files/figure-html/county-pop-change-med-hh-income-1.png" alt="A scatterplot showing `pop_change` against `median_hh_income`. Owsley County of Kentucky, is highlighted, which lost 3.63% of its population from 2010 to 2017 and had median household income of $22,736." width="70%"><p class="caption">
Figure 1.5: A scatterplot showing <code>pop_change</code> against <code>median_hh_income</code>. Owsley County of Kentucky, is highlighted, which lost 3.63% of its population from 2010 to 2017 and had median household income of $22,736.
</p>
</div>
<p>Because there is a downward trend in Figure <a href="intro-to-data.html#fig:county-multi-unit-homeownership">1.4</a>—counties with more units in multi-unit structures are associated with lower homeownership—these variables are said to be <strong>negatively associated</strong>.
A <strong>positive association</strong> is shown in the relationship between the <code>median_hh_income</code> and <code>pop_change</code> variables in Figure <a href="intro-to-data.html#fig:county-pop-change-med-hh-income">1.5</a>, where counties with higher median household income tend to have higher rates of population growth.</p>
<p>If two variables are not associated, then they are said to be <strong>independent</strong>.
That is, two variables are independent if there is no evident relationship between the two.</p>
<div class="importantbox">
<p><strong>Associated or independent, not both.</strong>
A pair of variables are either related in some way (associated) or not (independent).
No pair of variables is both associated and independent.</p>
</div>
</div>
<div id="explanatory-and-response-variables" class="section level3" number="1.2.4">
<h3>
<span class="header-section-number">1.2.4</span> Explanatory and response variables<a class="anchor" aria-label="anchor" href="#explanatory-and-response-variables"><i class="fas fa-link"></i></a>
</h3>
<p>When we ask questions about the relationship between two variables, we sometimes also want to determine if the change in one variable causes a change in the other.
Consider the following rephrasing of an earlier question about the <code>county</code> data set:</p>
<blockquote>
<p>If there is an increase in the median household income in a county, does this drive an increase in its population?</p>
</blockquote>
<p>In this question, we are asking whether one variable affects another.
If this is our underlying belief, then <em>median household income</em> is the <strong>explanatory variable</strong> variable and the <em>population change</em> is the <strong>response variable</strong> variable in the hypothesized relationship.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Sometimes the explanatory variable is called the &lt;strong&gt;independent&lt;/strong&gt; variable and the response variable is called the &lt;strong&gt;dependent&lt;/strong&gt; variable. However, this becomes confusing since a &lt;em&gt;pair&lt;/em&gt; of variables might be independent or dependent, so we avoid this language.&lt;/p&gt;"><sup>9</sup></a></p>
<p></p>
<div class="onebox">
<p><strong>Explanatory and response variables.</strong></p>
<p>When we suspect one variable might causally affect another,
we label the first variable the explanatory variable
and the second the response variable.
The main reason for this is that observational studies do not control for confounding variables.
We will revisit this idea when we discuss experiments later in the book.</p>
<center>
explanatory variable <span class="math inline">\(\rightarrow\)</span> <em>might affect</em> <span class="math inline">\(\rightarrow\)</span> response variable
</center>
<p><br>
For many pairs of variables, there is no hypothesized relationship, and these labels would not be applied to either variable in such cases.</p>
</div>
<p>Bear in mind that the act of labeling the variables in this way does nothing to guarantee that a causal relationship exists.
A formal evaluation to check whether one variable causes a change in another requires an experiment.</p>
</div>
<div id="introducing-observational-studies-and-experiments" class="section level3" number="1.2.5">
<h3>
<span class="header-section-number">1.2.5</span> Introducing observational studies and experiments<a class="anchor" aria-label="anchor" href="#introducing-observational-studies-and-experiments"><i class="fas fa-link"></i></a>
</h3>
<p>There are two primary types of data collection: observational studies and experiments. We already encountered an experiment in the case study in Section <a href="intro-to-data.html#basic-stents-strokes">1.1</a>, and an observational study with the Lending Club data in this section.</p>
<p>Researchers perform an <strong>observational study</strong> when they collect data in a way that does not directly interfere with how the data arise.
For instance, researchers may collect information via surveys, review medical or company records, or follow a <strong>cohort</strong> of many similar individuals to form hypotheses about why certain diseases might develop.
In each of these situations, researchers merely observe the data that arise.
In general, observational studies can provide evidence of a naturally occurring association between variables, but they cannot by themselves show a causal connection.</p>
<p>When researchers want to investigate the possibility of a causal connection, they conduct an <strong>experiment</strong>.
Usually there will be both an explanatory and a response variable.
For instance, we may suspect administering a drug will reduce mortality in heart attack patients over the following year.
To check if there really is a causal connection between the explanatory variable and the response, researchers will collect a sample of individuals and split them into groups.
The individuals in each group are <em>assigned</em> a treatment.
When individuals are randomly assigned to a group, the experiment is called a <strong>randomized experiment</strong>.
For example, each heart attack patient in the drug trial could be randomly assigned, perhaps by flipping a coin, into one of two groups: the first group receives a <strong>placebo</strong> (fake treatment) and the second group receives the drug.
Note that the case study in Section <a href="intro-to-data.html#basic-stents-strokes">1.1</a> did not use a placebo.</p>
<div class="importantbox">
<p><strong>Association <span class="math inline">\(\neq\)</span> Causation.</strong>
In general, association does not imply causation, and causation can only be inferred from a randomized experiment.</p>
</div>
</div>
</div>
<div id="sampling-principles-strategies" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> Sampling principles and strategies<a class="anchor" aria-label="anchor" href="#sampling-principles-strategies"><i class="fas fa-link"></i></a>
</h2>
<p>
</p>
<p>The first step in conducting research is to identify topics or questions that are to be investigated.
A clearly laid out research question is helpful in identifying what subjects or cases should be studied and what variables are important.
It is also important to consider <em>how</em> data are collected so that they are reliable and help achieve the research goals.</p>
<div id="populations-and-samples" class="section level3" number="1.3.1">
<h3>
<span class="header-section-number">1.3.1</span> Populations and samples<a class="anchor" aria-label="anchor" href="#populations-and-samples"><i class="fas fa-link"></i></a>
</h3>
<p>Consider the following three research questions:</p>
<ol style="list-style-type: decimal">
<li>What is the average mercury content in swordfish in the Atlantic Ocean?</li>
<li>Over the last 5 years, what is the average time to complete a degree for Duke undergrads?</li>
<li>Does a new drug reduce the risk deaths in patients with severe heart disease?</li>
</ol>
<p>Each research question refers to a target <strong>population</strong>.
In the first question, the target population is all swordfish in the Atlantic ocean, and each fish represents a case.
Often times, it is too expensive to collect data for every case in a population.
Instead, a sample is taken.
A <strong>sample</strong> represents a subset of the cases and is often a small fraction of the population.
For instance, 60 swordfish (or some other number) in the population might be selected, and this sample data may be used to provide an estimate of the population average and answer the research question.</p>
<div class="guidedpractice">
<p>For the second and third questions above, identify the target population and what represents an individual case.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;The question &lt;em&gt;“Over the last 5 years, what is the average time to complete a degree for Duke undergrads?”&lt;/em&gt; is only relevant to students who complete their degree; the average cannot be computed using a student who never finished her degree. Thus, only Duke undergrads who graduated in the last five years represent cases in the population under consideration. Each such student is an individual case. For the question &lt;em&gt;“Does a new drug reduce the number of deaths in patients with severe heart disease?”&lt;/em&gt;, a person with severe heart disease represents a case. The population includes all people with severe heart disease.&lt;/p&gt;"><sup>10</sup></a></p>
</div>
</div>
<div id="anecdotal-evidence" class="section level3" number="1.3.2">
<h3>
<span class="header-section-number">1.3.2</span> Anecdotal evidence<a class="anchor" aria-label="anchor" href="#anecdotal-evidence"><i class="fas fa-link"></i></a>
</h3>
<p></p>
<p>Consider the following possible responses to the three research questions:</p>
<ol style="list-style-type: decimal">
<li>A man on the news got mercury poisoning from eating swordfish, so the average mercury concentration in swordfish must be dangerously high.</li>
<li>I met two students who took more than 7 years to graduate from Duke, so it must take longer to graduate at Duke than at many other colleges.</li>
<li>My friend’s dad had a heart attack and died after they gave him a new heart disease drug, so the drug must not work.</li>
</ol>
<p>Each conclusion is based on data.
However, there are two problems.
First, the data only represent one or two cases.
Second, and more importantly, it is unclear whether these cases are actually representative of the population. Data collected in this haphazard fashion are called <strong>anecdotal evidence</strong>.</p>
<div class="importantbox">
<p><strong>Anecdotal evidence.</strong>
Be careful of data collected in a haphazard fashion.
Such evidence may be true and verifiable, but it may only represent extraordinary cases.</p>
</div>
<div class="figure" style="text-align: center">
<span id="fig:mn-winter"></span>
<img src="01/images/mn-winter/mn-winter.jpg" alt='In February 2010, some media pundits cited one large snow storm as evidence against global warming. As comedian Jon Stewart pointed out, "It is one storm, in one region, of one country."' width="50%"><p class="caption">
Figure 1.6: In February 2010, some media pundits cited one large snow storm as evidence against global warming. As comedian Jon Stewart pointed out, “It is one storm, in one region, of one country.”
</p>
</div>
<p>Anecdotal evidence typically is composed of unusual cases that we recall based on their striking characteristics.
For instance, we are more likely to remember the two people we met who took 7 years to graduate than the six others who graduated in four years.
Instead of looking at the most unusual cases, we should examine a sample of many cases that better represent the population.</p>
</div>
<div id="sampling-from-a-population" class="section level3" number="1.3.3">
<h3>
<span class="header-section-number">1.3.3</span> Sampling from a population<a class="anchor" aria-label="anchor" href="#sampling-from-a-population"><i class="fas fa-link"></i></a>
</h3>
<p>
</p>
<p>We might try to estimate the time to graduation for Duke undergraduates in the last 5 years by collecting a sample of students.
All graduates in the last 5 years represent the <em>population</em>, and graduates who are selected for review are collectively called the <em>sample</em>.
In general, we always seek to <em>randomly</em> select a sample from a population.
The most basic type of random selection is equivalent to how raffles are conducted–where each raffle ticket has an equal chance of being selected.
For example, in selecting graduates, we could write each graduate’s name on a raffle ticket and draw 100 tickets.
The selected names would represent a random sample of 100 graduates.
We pick samples randomly to reduce the chance we introduce biases.</p>
<div class="figure" style="text-align: center">
<span id="fig:pop-to-sample"></span>
<img src="01-intro-to-data_files/figure-html/pop-to-sample-1.png" alt="In this graphic, five graduates are randomly selected from the population (all graduates in the last 5 years) to be included in the sample." width="70%"><p class="caption">
Figure 1.7: In this graphic, five graduates are randomly selected from the population (all graduates in the last 5 years) to be included in the sample.
</p>
</div>
<div class="workedexample">
<p>Suppose we ask a student who happens to be majoring in nutrition to select several graduates for the study.
What kind of students do you think they might collect?
Do you think their sample would be representative of all graduates?</p>
<hr>
<p>Perhaps they would pick a disproportionate number of graduates from health-related fields. Or perhaps their selection would be a good representation of the population.
When selecting samples by hand, we run the risk of picking a <strong>biased</strong> sample, even if our bias is unintended.</p>
</div>
<div class="figure" style="text-align: center">
<span id="fig:pop-to-sub-sample-graduates"></span>
<img src="01-intro-to-data_files/figure-html/pop-to-sub-sample-graduates-1.png" alt="Asked to pick a sample of graduates, a nutrition major might inadvertently pick a disproportionate number of graduates from health-related majors." width="70%"><p class="caption">
Figure 1.8: Asked to pick a sample of graduates, a nutrition major might inadvertently pick a disproportionate number of graduates from health-related majors.
</p>
</div>
<p>If someone was permitted to pick and choose exactly which graduates were included in the sample, it is entirely possible that the sample could be skewed to that person’s interests, which may be entirely unintentional.
This introduces <strong>bias</strong> into a sampling method.</p>
<div class="onebox">
<p>There are three common types of <strong>sampling bias</strong> we will discuss:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Selection bias</strong>: the method in how your sample is selected tends to produce samples that either over-represent or under-represent certain portions of the population.</li>
<li>
<strong>Non-response bias</strong>: individuals selected for the sample are unwilling to answer some or all questions, cannot respond, or refuse to participate.</li>
<li>
<strong>Response bias</strong>: individuals selected for the sample respond in a way that does not accurately represent the truth—due to question wording, lack of anonymity, or other issues.</li>
</ol>
</div>
<p>A common downfall in survey studies is a <strong>convenience sample</strong>, where individuals who are easily accessible are more likely to be included in the sample.
For instance, if a political survey is done by stopping people walking in the Bronx, this will not represent all of New York City.
It is often difficult to discern what sub-population a convenience sample represents.</p>
<div class="guidedpractice">
<p>Is a convenience sample an example of selection bias, non-response bias,
or response bias?<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;A convenience sample is an example of selection bias, because the
way in which the sample is &lt;em&gt;selected&lt;/em&gt; is biased.&lt;/p&gt;"><sup>11</sup></a></p>
</div>
<p>Sampling randomly helps resolve <em>selection bias</em>.
The most basic random sample is called a <strong>simple random sample</strong>, and is equivalent to using a raffle to select cases.
This means that each case in the population has an equal chance of being included and there is no implied connection between the cases in the sample.</p>
<p>Even when people are picked at random, however, caution must be exercised if the <strong>non-response rate</strong> is high, or if <strong>response bias</strong> is present.
For instance, if only 30% of the people randomly sampled for a survey actually respond, then it is unclear whether the results are <strong>representative</strong> of the entire population.
This <em>non-response bias</em> can produce results in the sample that do not accurately reflect the entire population.</p>
<div class="figure" style="text-align: center">
<span id="fig:survey-sample"></span>
<img src="01-intro-to-data_files/figure-html/survey-sample-1.png" alt="Due to the possibility of non-response, survey studies may only reach a certain group within the population. It is difficult, and often times impossible, to completely fix this problem." width="70%"><p class="caption">
Figure 1.9: Due to the possibility of non-response, survey studies may only reach a certain group within the population. It is difficult, and often times impossible, to completely fix this problem.
</p>
</div>
<div class="onebox">
<p><strong>Asking the uninformed.</strong> Popular late night host Jimmy Kimmel has a segment on his show called “Lie Witness News,” where Kimmel’s staff take to the streets to ask pedestrians about recent stories in the news. However, these recent stories are not really stories at all—they’re fake. Without fail, those asked always express an opinion, unflinchingly. Why? People do not like to appear as if they don’t know what they’re talking about, so we make up answers. For an entertaining display of this fascinating psychological example of response bias, watch the <a href="https://www.youtube.com/watch?v=W_IzYUJANfk">Coachella 2013 episode of Lie Witness News</a>.</p>
</div>
<div class="guidedpractice">
<p>We can easily access ratings for products, sellers, and companies through websites. These ratings are based only on those people who go out of their way to provide a rating. If 50% of online reviews for a product are negative, do you think this means that 50% of buyers are dissatisfied with the product? Why or why not?<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Answers will vary. From our own anecdotal experiences, we believe people tend to rant more about products that fell below expectations than rave about those that perform as expected. For this reason, we suspect there is a negative bias in product ratings on sites like Amazon. Additionally, those with strong opinions (positive or negative) are more inclined to take the time to write a review. However, since our experiences may not be representative, we also keep an open mind.&lt;/p&gt;"><sup>12</sup></a></p>
</div>
<p>



</p>
</div>
<div id="samp-methods" class="section level3" number="1.3.4">
<h3>
<span class="header-section-number">1.3.4</span> Four sampling methods (special topic)<a class="anchor" aria-label="anchor" href="#samp-methods"><i class="fas fa-link"></i></a>
</h3>
<p>Almost all statistical methods are based on the notion of implied randomness.
If observational data are not collected in a random framework from a population, these statistical methods—the estimates and errors associated with the estimates—are not reliable.
Here we consider four random sampling techniques: simple, stratified, cluster, and multistage sampling. Figures <a href="intro-to-data.html#fig:simple-stratified">1.10</a> and <a href="intro-to-data.html#fig:cluster-multistage">1.11</a> provide graphical representations of these techniques.</p>
<p>
</p>
<div class="figure" style="text-align: center">
<span id="fig:simple-stratified"></span>
<img src="01-intro-to-data_files/figure-html/simple-stratified-1.png" alt="Examples of simple random and stratified sampling. In the top panel, simple random sampling was used to randomly select the 18 cases (denoted in red). In the bottom panel, stratified sampling was used: cases were grouped into strata, then simple random sampling was employed to randomly select 3 cases within each stratum." width="70%"><p class="caption">
Figure 1.10: Examples of simple random and stratified sampling. In the top panel, simple random sampling was used to randomly select the 18 cases (denoted in red). In the bottom panel, stratified sampling was used: cases were grouped into strata, then simple random sampling was employed to randomly select 3 cases within each stratum.
</p>
</div>
<p><strong>Simple random sampling</strong> is probably the most intuitive form of random sampling.
Consider the salaries of Major League Baseball (MLB) players, where each player is a member of one of the league’s 30 teams.
To take a simple random sample of 120 baseball players and their salaries, we could write the names of that season’s several hundreds of players onto slips of paper, drop the slips into a bucket, shake the bucket around until we are sure the names are all mixed up, then draw out slips until we have the sample of 120 players.
In general, a sample is referred to as “simple random” if each case in the population has an equal chance of being included in the final sample <em>and</em> knowing that a case is included in a sample does not provide useful information about which other cases are included.</p>
<p></p>
<p><strong>Stratified sampling</strong> is a divide-and-conquer sampling strategy.
The population is divided into groups called <strong>strata</strong>.
The strata are chosen so that similar cases are grouped together, then a second sampling method, usually simple random sampling, is employed within each stratum.
In the baseball salary example, each of the 30 teams could represent a strata, since some teams have a lot more money (up to 4 times as much!).
Then we might randomly sample 4 players from each team for our sample of 120 players.</p>
<p>Stratified sampling is especially useful when the cases in each stratum are very similar with respect to the outcome of interest.
The downside is that analyzing data from a stratified sample is a more complex task than analyzing data from a simple random sample.
The analysis methods introduced in this book would need to be extended to analyze data collected using stratified sampling.</p>
<div class="workedexample">
<p>Why would it be good for cases within each stratum to be very similar?</p>
<hr>
<p>We might get a more stable estimate for the subpopulation in a stratum if the cases are very similar, leading to more precise estimates within each group.
When we combine these estimates into a single estimate for the full population, that population estimate will tend to be more precise since each individual group estimate is itself more precise.</p>
</div>
<p>In a <strong>cluster sample</strong>, we break up the population into many groups, called <strong>clusters</strong>.
Then we sample a fixed number of clusters and include all observations from each of those clusters in the sample.
A <strong>multistage sample</strong> is like a cluster sample, but rather than keeping all observations in each cluster, we would collect a random sample within each selected cluster.</p>
<p></p>
<div class="figure" style="text-align: center">
<span id="fig:cluster-multistage"></span>
<img src="01-intro-to-data_files/figure-html/cluster-multistage-1.png" alt="Examples of cluster and multistage sampling. In the top panel, cluster sampling was used: data were binned into nine clusters, three of these clusters were sampled, and all observations within these three cluster were included in the sample. In the bottom panel, multistage sampling was used, which differs from cluster sampling only in that we randomly select a subset of each cluster to be included in the sample rather than measuring every case in each sampled cluster." width="70%"><p class="caption">
Figure 1.11: Examples of cluster and multistage sampling. In the top panel, cluster sampling was used: data were binned into nine clusters, three of these clusters were sampled, and all observations within these three cluster were included in the sample. In the bottom panel, multistage sampling was used, which differs from cluster sampling only in that we randomly select a subset of each cluster to be included in the sample rather than measuring every case in each sampled cluster.
</p>
</div>
<p>Sometimes cluster or multistage sampling can be more economical than the alternative sampling techniques.
Also, unlike stratified sampling, these approaches are most helpful when there is a lot of case-to-case variability within a cluster but the clusters themselves don’t look very different from one another.
For example, if neighborhoods represented clusters, then cluster or multistage sampling work best when the neighborhoods are very diverse.
A downside of these methods is that more advanced techniques are typically required to analyze the data, though the methods in this book can be extended to handle such data.</p>
<div class="workedexample">
<p>Suppose we are interested in estimating the malaria rate in a densely tropical portion of rural Indonesia.
We learn that there are 30 villages in that part of the Indonesian jungle, each more or less similar to the next, but the distances between the villages is substantial. Our goal is to test 150 individuals for malaria.
What sampling method should be employed?</p>
<hr>
<p>A simple random sample would likely draw individuals from all 30 villages, which could make data collection extremely expensive.
Stratified sampling would be a challenge since it is unclear how we would build strata of similar individuals.
However, cluster sampling or multistage sampling seem like very good ideas.
If we decided to use multistage sampling, we might randomly select half of the villages, then randomly select 10 people from each.
This would probably reduce our data collection costs substantially in comparison to a simple random sample, and the cluster sample would still give us reliable information, even if we would need to analyze the data with slightly more advanced methods than we discuss in this book.</p>
</div>
</div>
</div>
<div id="observational-studies" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> Observational studies<a class="anchor" aria-label="anchor" href="#observational-studies"><i class="fas fa-link"></i></a>
</h2>
<p>Data where no treatment has been explicitly applied (or explicitly withheld) is called <strong>observational data</strong>.
For instance, the loan data and county data described in Section <a href="intro-to-data.html#data-basics">1.2</a> are both examples of observational data.</p>
<p>Observational studies are generally only sufficient to show associations or form hypotheses that can be later checked with experiments. Making causal conclusions based on experiments is often reasonable. However, making the same causal conclusions based on observational data can be treacherous and is not recommended. Indeed, making causal conclusions based on observational data is arguably the most common mistake in our news headlines and social media posts!</p>
<div class="guidedpractice">
<p>Suppose an observational study tracked sunscreen use and skin cancer, and it was found that the more sunscreen someone used, the more likely the person was to have skin cancer. Does this mean sunscreen <em>causes</em> skin cancer?<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;No! See the paragraph following this guided practice for an explanation.&lt;/p&gt;"><sup>13</sup></a></p>
</div>
<p>Some previous research tells us that using sunscreen actually reduces skin cancer risk, so maybe there is another variable that can explain this hypothetical association between sunscreen usage and skin cancer.
One important piece of information that is absent is sun exposure. If someone is out in the sun all day, they are more likely to use sunscreen <em>and</em> more likely to get skin cancer. Exposure to the sun is unaccounted for in the simple investigation.</p>
<div class="inline-figure"><img src="01-intro-to-data_files/figure-html/sun-causes-cancer-1.png" width="70%" style="display: block; margin: auto;"></div>
<!--
Some studies:
http://www.sciencedirect.com/science/article/pii/S0140673698121682
http://archderm.ama-assn.org/cgi/content/abstract/122/5/537
Study with a similar scenario to that described here:
http://onlinelibrary.wiley.com/doi/10.1002/ijc.22745/full
-->
<p>Sun exposure is what is called a <strong>confounding variable</strong><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Also called a &lt;strong&gt;lurking variable&lt;/strong&gt;, &lt;strong&gt;confounding factor&lt;/strong&gt;, or a &lt;strong&gt;confounder&lt;/strong&gt;.&lt;/p&gt;"><sup>14</sup></a>, which is a variable that is associated with both the explanatory and response variables.
While one method to justify making causal conclusions from observational studies is to exhaust the search for confounding variables, there is no guarantee that all confounding variables can be examined or measured.</p>
<div class="onebox">
<p>A <strong>confounding variable</strong> is a variable that is <em>both</em></p>
<ol style="list-style-type: decimal">
<li>associated with the explanatory variable, <em>and</em>
</li>
<li>associated with the response variable.</li>
</ol>
<p>When both these conditions are met, if we observe an association between the explanatory variable and the response variable in the data, we cannot be sure if this association is due to the explanatory variable or the confounding variable—the explanatory and confounding variables are “confounded.”</p>
</div>
<div class="guidedpractice">
<p>Figure <a href="intro-to-data.html#fig:county-multi-unit-homeownership">1.4</a> shows a negative association between the homeownership rate and the percentage of multi-unit structures in a county.
However, it is unreasonable to conclude that there is a causal relationship between the two variables.
Suggest a variable that might explain the negative relationship.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Answers will vary. Population density may be important. If a county is very dense, then this may require a larger fraction of residents to live in multi-unit structures. Additionally, the high density may contribute to increases in property value, making homeownership infeasible for many residents.&lt;/p&gt;"><sup>15</sup></a></p>
</div>
<div class="guidedpractice">
<p>Houndstongue (a noxious weed) is found in abundance on private and public lands that have been grazed by cattle. Houndstongue is rarely found on lands that have been grazed by mountain goats. One investigator concluded that houndstongue infestations could be reduced by importing mountain goats to the infested areas. What is wrong with this conclusion?<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Just because mountain goat grazing is associated with an absence of houndstongue doesn’t mean the mountain goats are the cause behind the houndstongue reduction! One obvious confounding variable is elevation—elevation is associated with the presence/absence of houndstongue (houndstongue tends to grow at lower elevation) and is also associated with the presence/absence of mountain goats (mountain goats prefer higher elevations).&lt;/p&gt;"><sup>16</sup></a></p>
</div>
<p>Observational studies come in two forms: prospective and retrospective studies.
A <strong>prospective study</strong> identifies individuals and collects information as events unfold.
For instance, medical researchers may identify and follow a group of patients over many years to assess the possible influences of behavior on cancer risk.
One example of such a study is the Nurses’ Health Study.
Started in 1976 and expanded in 1989, the Nurses’ Health Study has collected data on over 275,000 nurses and is still enrolling participants.
This prospective study recruits registered nurses and then collects data from them using questionnaires.
<strong>Retrospective studies</strong> collect data after events have taken place, e.g. researchers may review past events in medical records.
Some data sets may contain both prospectively- and retrospectively-collected variables, such as medical studies which gather information on participants’ lives before they enter the study and subsequently collect data on participants throughout the study.</p>
</div>
<div id="experiments" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> Experiments<a class="anchor" aria-label="anchor" href="#experiments"><i class="fas fa-link"></i></a>
</h2>
<p>Studies where the researchers assign treatments to cases are called <strong>experiments</strong>.
When this assignment includes randomization, e.g., using a coin flip to decide which treatment a patient receives, it is called a <strong>randomized experiment</strong>.
Randomized experiments are fundamentally important when trying to show a causal connection between two variables.</p>
<div id="principles-of-experimental-design" class="section level3" number="1.5.1">
<h3>
<span class="header-section-number">1.5.1</span> Principles of experimental design<a class="anchor" aria-label="anchor" href="#principles-of-experimental-design"><i class="fas fa-link"></i></a>
</h3>
<p>Randomized experiments are generally built on four principles:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Controlling.</strong> Researchers assign treatments to cases, and they do their best to <strong>control</strong> any other differences in the groups<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;This is a different concept than a &lt;em&gt;control group&lt;/em&gt;, which we discuss in the second principle and in Section &lt;a href="intro-to-data.html#reducing-bias-human-experiments"&gt;1.5.2&lt;/a&gt;.&lt;/p&gt;'><sup>17</sup></a>.<br>
For example, when patients take a drug in pill form, some patients take the pill with only a sip of water while others may have it with an entire glass of water.
To control for the effect of water consumption, a doctor may instruct every patient to drink a 12 ounce glass of water with the pill.</p></li>
<li><p><strong>Randomization.</strong> Researchers randomize patients into treatment groups to account for variables that cannot be controlled.
For example, some patients may be more susceptible to a disease than others due to their dietary habits.
Randomizing patients into the treatment or control group helps even out such differences, and it also prevents accidental bias from entering the study.</p></li>
<li><p><strong>Replication.</strong> The more cases researchers observe, the more accurately they can estimate the effect of the explanatory variable on the response.
In a single study, we <strong>replicate</strong> by collecting a sufficiently large sample.
Alternatively, a group of scientists may replicate an entire study to verify an earlier finding.</p></li>
<li><p><strong>Blocking.</strong> Researchers sometimes know or suspect that variables, other than the treatment, influence the response.
Under these circumstances, they may first group individuals based on this variable into <strong>blocks</strong> and then randomize cases within each block to the treatment groups.
This strategy is often referred to as <strong>blocking</strong>.
For instance, if we are looking at the effect of a drug on heart attacks, we might first split patients in the study into low-risk and high-risk blocks, then randomly assign half the patients from each block to the control group and the other half to the treatment group, as shown in Figure <a href="intro-to-data.html#fig:blocking">1.12</a>.
This strategy ensures each treatment group has an equal number of low-risk and high-risk patients.</p></li>
</ol>
<div class="figure" style="text-align: center">
<span id="fig:blocking"></span>
<img src="01-intro-to-data_files/figure-html/blocking-1.png" alt="Blocking using a variable depicting patient risk. Patients are first divided into low-risk and high-risk blocks, then each block is evenly separated into the treatment groups using randomization. This strategy ensures an equal representation of patients in each treatment group from both the low-risk and high-risk categories." width="70%"><p class="caption">
Figure 1.12: Blocking using a variable depicting patient risk. Patients are first divided into low-risk and high-risk blocks, then each block is evenly separated into the treatment groups using randomization. This strategy ensures an equal representation of patients in each treatment group from both the low-risk and high-risk categories.
</p>
</div>
<p>It is important to incorporate the first three experimental design principles into any study, and this book describes applicable methods for analyzing data from such experiments.
Blocking is a slightly more advanced technique, and statistical methods in this book may be extended to analyze data collected using blocking.</p>
</div>
<div id="reducing-bias-human-experiments" class="section level3" number="1.5.2">
<h3>
<span class="header-section-number">1.5.2</span> Reducing bias in human experiments<a class="anchor" aria-label="anchor" href="#reducing-bias-human-experiments"><i class="fas fa-link"></i></a>
</h3>
<p>Randomized experiments have long been considered to be the gold standard for data collection, but they do not ensure an unbiased perspective into the cause and effect relationship in all cases.
Human studies are perfect examples where bias can unintentionally arise.
Here we reconsider a study where a new drug was used to treat heart attack patients.
In particular, researchers wanted to know if the drug reduced deaths in patients.</p>
<p>These researchers designed a randomized experiment because they wanted to draw causal conclusions about the drug’s effect.
Study volunteers<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Human subjects are often called &lt;strong&gt;patients&lt;/strong&gt;, &lt;strong&gt;volunteers&lt;/strong&gt;, or &lt;strong&gt;study participants&lt;/strong&gt;.&lt;/p&gt;"><sup>18</sup></a> were randomly placed into two study groups.
One group, the <strong>treatment group</strong>, received the drug.
The other group, called the <strong>control group</strong>, did not receive any drug treatment.</p>
<p>Put yourself in the place of a person in the study.
If you are in the treatment group, you are given a fancy new drug that you anticipate will help you.
On the other hand, a person in the other group doesn’t receive the drug and sits idly, hoping her participation doesn’t increase her risk of death.
These perspectives suggest there are actually two effects in this study: the one of interest is the effectiveness of the drug, and the second is an emotional effect to (not) taking the drug, which is difficult to quantify.</p>
<p>Researchers aren’t usually interested in the emotional effect, which might bias the study.
To circumvent this problem, researchers do not want patients to know which group they are in.
When researchers keep the patients uninformed about their treatment, the study is said to be <strong>blind</strong>.
But there is one problem: if a patient doesn’t receive a treatment, they will know they’re in the control group.
The solution to this problem is to give fake treatments to patients in the control group.
A fake treatment is called a <strong>placebo</strong>, and an effective placebo is the key to making a study truly blind.
A classic example of a placebo is a sugar pill that is made to look like the actual treatment pill.
Often times, a placebo results in a slight but real improvement in patients.
This effect has been dubbed the <strong>placebo effect</strong>.</p>
<p>The patients are not the only ones who should be blinded: doctors and researchers can accidentally bias a study.
When a doctor knows a patient has been given the real treatment, they might inadvertently give that patient more attention or care than a patient that they know is on the placebo.
To guard against this bias, which again has been found to have a measurable effect in some instances, most modern studies employ a <strong>double-blind</strong> setup where doctors or researchers who interact with patients are, just like the patients, unaware of who is or is not receiving the treatment.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;There are always some researchers involved in the study who do know which patients are receiving which treatment. However, they do not interact with the study’s patients and do not tell the blinded health care professionals who is receiving which treatment.&lt;/p&gt;"><sup>19</sup></a></p>
<div class="guidedpractice">
<p>Look back to the study in Section <a href="intro-to-data.html#basic-stents-strokes">1.1</a> where researchers were testing whether stents were effective at reducing strokes in at-risk patients.
Is this an experiment? Was the study blinded? Was it double-blinded?<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;The researchers assigned the patients into their treatment groups, so this study was an experiment. However, the patients could distinguish what treatment they received, so this study was not blind. The study could not be double-blind since it was not blind.&lt;/p&gt;"><sup>20</sup></a></p>
</div>
<div class="guidedpractice">
<p>For the study in Section <a href="intro-to-data.html#basic-stents-strokes">1.1</a>, could the researchers have employed a placebo?
If so, what would that placebo have looked like?<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Ultimately, can we make patients think they got treated from a surgery? In fact, we can, and some experiments use a &lt;strong&gt;sham surgery&lt;/strong&gt;. In a sham surgery, the patient does undergo surgery, but the patient does not receive the full treatment, though they will still get a placebo effect.&lt;/p&gt;"><sup>21</sup></a></p>
</div>
<p>You may have many questions about the ethics of sham surgeries to create a placebo.
These questions may have even arisen in your mind when in the general experiment context, where a possibly helpful treatment was withheld from individuals in the control group; the main difference is that a sham surgery tends to create additional risk, while withholding a treatment only maintains a person’s risk.</p>
<p>There are always multiple viewpoints of experiments and placebos, and rarely is it obvious which is ethically “correct.”
For instance, is it ethical to use a sham surgery when it creates a risk to the patient?
However, if we don’t use sham surgeries, we may promote the use of a costly treatment that has no real effect; if this happens, money and other resources will be diverted away from other treatments that are known to be helpful.
Ultimately, this is a difficult situation where we cannot perfectly protect both the patients who have volunteered for the study and the patients who may benefit (or not) from the treatment in the future.</p>
</div>
</div>
<div id="scope-of-inference" class="section level2" number="1.6">
<h2>
<span class="header-section-number">1.6</span> Scope of inference<a class="anchor" aria-label="anchor" href="#scope-of-inference"><i class="fas fa-link"></i></a>
</h2>
<p>When statisticians refer to the <strong>scope of inference</strong> of a study,
we are asking two questions:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Generalizability</strong>: To which population can we <em>generalize</em> these results?</li>
<li>
<strong>Causation</strong>: Do these results provide evidence for a <em>causal</em> relationship?</li>
</ol>
<p>The answer to the first question is determined by the <em>sampling method</em>—if we selected our sample randomly, and there are no other sources of sampling bias, then we can reasonably generalize to the population from which the sample was taken. The answer to the second question is determined by the <em>type of study</em>—if the study is a randomized experiment, then it can investigate whether changes in the explanatory variable caused changes in the response variable; in an observational study, one can only investigate associations between the variables. We summarize how to determine a study’s scope of inference in Figure <a href="intro-to-data.html#fig:ScopeOfInference">1.13</a>.</p>
<div class="figure" style="text-align: center">
<span id="fig:ScopeOfInference"></span>
<img src="01/figures/ScopeOfInference/ScopeOfInference.png" alt="Determining scope of inference of a study." width="100%"><p class="caption">
Figure 1.13: Determining scope of inference of a study.
</p>
</div>
</div>
<div id="data-in-r" class="section level2" number="1.7">
<h2>
<span class="header-section-number">1.7</span> Data in <code>R</code><a class="anchor" aria-label="anchor" href="#data-in-r"><i class="fas fa-link"></i></a>
</h2>
<p><code>R</code> is a powerful and open source software tool for working with data.
Throughout this text, we provide some guidance on how to use <code>R</code> within the
context of the statistical content that is being covered.</p>
<p>As educators, we see the value of teaching with modern software to
empower students to take optimal advantage of the concepts they are learning.
Generally, we will present the <code>R</code> techniques at the end
of each chapter. There are times in the text when the concepts are not
distinguishable from the software, and in those cases, we have have provided the
<code>R</code> code within the main body of the chapter.</p>
<p>We start with an introduction to <code>R</code>, focused on how data sets are structured in
<code>R</code> and how the user can work with a data object in <code>R</code>.</p>
<div id="dataframes-in-r" class="section level3" number="1.7.1">
<h3>
<span class="header-section-number">1.7.1</span> Dataframes in <code>R</code><a class="anchor" aria-label="anchor" href="#dataframes-in-r"><i class="fas fa-link"></i></a>
</h3>
<p>Throughout the text, we will work with many different data sets. Some data sets
are pre-loaded into <code>R</code>, some get loaded through <code>R</code> packages, and some data sets
will be created by the student. Data sets can be viewed through the RStudio
environment, and can also be investigated through various <code>R</code> <strong>functions</strong>.</p>
<div class="onebox">
<p>Similar to the notation for a mathematical function, an <code>R</code> <strong>function</strong> takes the form:</p>
<blockquote>
<p><code>function_name(arguments to the function)</code></p>
</blockquote>
<p>The <code>function_name</code> is the name of the function, such as <code>mean</code>, <code>read.csv</code>, or <code>lm</code>. You can access the help file for any named function by preceding it with a question mark: <code><a href="https://rdrr.io/r/utils/read.table.html">?read.csv</a></code>.</p>
<p>The arguments to the function are the inputs to the function. These can be data sets, parameter values, or other options.</p>
</div>
<p>In <code>R</code>, all functions take arguments in round parentheses (as opposed to subsetting observations or variables from data objects which happen with square parentheses).</p>
<div class="guidedpractice">
<p>In the <code>R</code> console, type <code><a href="https://rdrr.io/r/utils/read.table.html">?read.csv</a></code>. This will bring up the help file for the <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> function. What are the first two arguments to this function?<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;The first argument is the &lt;code&gt;file&lt;/code&gt; — the name of the file or website which the data are to be read from. The second argument is &lt;code&gt;header&lt;/code&gt; — a &lt;strong&gt;logical&lt;/strong&gt; argument (&lt;code&gt;TRUE&lt;/code&gt; or &lt;code&gt;FALSE&lt;/code&gt;) for whether the file contains a header row of variables or not.&lt;/p&gt;"><sup>22</sup></a></p>
</div>
<p>Consider the  data that was described previously in this chapter.<br>
We can use the <code>glimpse()</code> function to see the variables included in the data set
and their data type. Or, we could use the <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> function to see the first
few rows of the data set.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">email50</span><span class="op">)</span>
<span class="fu">glimpse</span><span class="op">(</span><span class="va">email50</span><span class="op">)</span>
<span class="co">#&gt; Rows: 50</span>
<span class="co">#&gt; Columns: 21</span>
<span class="co">#&gt; $ spam         &lt;fct&gt; 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, ~</span>
<span class="co">#&gt; $ to_multiple  &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, ~</span>
<span class="co">#&gt; $ from         &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ~</span>
<span class="co">#&gt; $ cc           &lt;int&gt; 0, 0, 4, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, ~</span>
<span class="co">#&gt; $ sent_email   &lt;fct&gt; 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, ~</span>
<span class="co">#&gt; $ time         &lt;dttm&gt; 2012-01-04 06:19:16, 2012-02-16 13:10:06, 2012-01-04 08:~</span>
<span class="co">#&gt; $ image        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~</span>
<span class="co">#&gt; $ attach       &lt;dbl&gt; 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 1, 0, ~</span>
<span class="co">#&gt; $ dollar       &lt;dbl&gt; 0, 0, 0, 0, 9, 0, 0, 0, 0, 23, 4, 0, 3, 2, 0, 0, 0, 0, 0,~</span>
<span class="co">#&gt; $ winner       &lt;fct&gt; no, no, no, no, no, no, no, no, no, no, no, no, yes, no, ~</span>
<span class="co">#&gt; $ inherit      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~</span>
<span class="co">#&gt; $ viagra       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~</span>
<span class="co">#&gt; $ password     &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 8, ~</span>
<span class="co">#&gt; $ num_char     &lt;dbl&gt; 21.705, 7.011, 0.631, 2.454, 41.623, 0.057, 0.809, 5.229,~</span>
<span class="co">#&gt; $ line_breaks  &lt;int&gt; 551, 183, 28, 61, 1088, 5, 17, 88, 242, 578, 1167, 198, 7~</span>
<span class="co">#&gt; $ format       &lt;fct&gt; 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, ~</span>
<span class="co">#&gt; $ re_subj      &lt;fct&gt; 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, ~</span>
<span class="co">#&gt; $ exclaim_subj &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~</span>
<span class="co">#&gt; $ urgent_subj  &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~</span>
<span class="co">#&gt; $ exclaim_mess &lt;dbl&gt; 8, 1, 2, 1, 43, 0, 0, 2, 22, 3, 13, 1, 2, 2, 21, 10, 0, 0~</span>
<span class="co">#&gt; $ number       &lt;fct&gt; small, big, none, small, small, small, small, small, smal~</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">email50</span><span class="op">)</span> 
<span class="co">#&gt; # A tibble: 6 x 21</span>
<span class="co">#&gt;   spam  to_multiple from     cc sent_email time                image attach</span>
<span class="co">#&gt;   &lt;fct&gt; &lt;fct&gt;       &lt;fct&gt; &lt;int&gt; &lt;fct&gt;      &lt;dttm&gt;              &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt; 1 0     0           1         0 1          2012-01-04 06:19:16     0      0</span>
<span class="co">#&gt; 2 0     0           1         0 0          2012-02-16 13:10:06     0      0</span>
<span class="co">#&gt; 3 1     0           1         4 0          2012-01-04 08:36:23     0      2</span>
<span class="co">#&gt; 4 0     0           1         0 0          2012-01-04 10:49:52     0      0</span>
<span class="co">#&gt; 5 0     0           1         0 0          2012-01-27 02:34:45     0      0</span>
<span class="co">#&gt; 6 0     0           1         0 0          2012-01-17 10:31:57     0      0</span>
<span class="co">#&gt; # ... with 13 more variables: dollar &lt;dbl&gt;, winner &lt;fct&gt;, inherit &lt;dbl&gt;,</span>
<span class="co">#&gt; #   viagra &lt;dbl&gt;, password &lt;dbl&gt;, num_char &lt;dbl&gt;, line_breaks &lt;int&gt;,</span>
<span class="co">#&gt; #   format &lt;fct&gt;, re_subj &lt;fct&gt;, exclaim_subj &lt;dbl&gt;, urgent_subj &lt;fct&gt;,</span>
<span class="co">#&gt; #   exclaim_mess &lt;dbl&gt;, number &lt;fct&gt;</span></code></pre></div>
<p>Sometimes it is necessary to extract a column or a row from a data set.
In <code>R</code>, the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operator can be used to extract a column from a data set.
For example, <code>data$variable</code> would extract the <code>variable</code> column from the <code>data</code> dataframe.
When extracted, these columns can be thought of as vectors. With these vectors, if you desired to pull off a specific entry, you could use square brackets (<code>[ ]</code>), with the index (number) of the entry you wish to extract in the brackets.
For example, <code>data$variable[2]</code> would extract the second entry (row) of the <code>variable</code> column.</p>
<p>Because a dataframe can be (roughly) thought of as a set of many different vectors, you can extract rows and columns from a dataframe using familiar matrix notation (e.g. <code>[row, column]</code>).
For example <code>data[i,j]</code> will extract the <span class="math inline">\((i,j)^{th}\)</span> entry of data, <code>data[i, ]</code> will extract the <span class="math inline">\(i^{th}\)</span> row, and <code>data[ , j]</code> will extract the <span class="math inline">\(j^{th}\)</span> column. Notice, when extracting an entire row (or column), you do not need to specify the columns (or rows) you would like, which is why the second entry does not contain a number.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email50</span><span class="op">$</span><span class="va">num_char</span> <span class="co"># The num_char variable column</span>
<span class="co">#&gt;  [1] 21.705  7.011  0.631  2.454 41.623  0.057  0.809  5.229  9.277 17.170</span>
<span class="co">#&gt; [11] 64.401 10.368 42.793  0.451 29.233  9.794  2.139  0.130  4.945 11.533</span>
<span class="co">#&gt; [21]  5.682  6.768  0.086  3.070 26.520 26.255  5.259  2.780  5.864  9.928</span>
<span class="co">#&gt; [31] 25.209  6.563 24.599 25.757  0.409 11.223  3.778  1.493 10.613  0.493</span>
<span class="co">#&gt; [41]  4.415 14.156  9.491 24.837  0.684 13.502  2.789  1.169  8.937 15.829</span>
<span class="va">email50</span><span class="op">[</span><span class="fl">47</span>,<span class="fl">3</span><span class="op">]</span> <span class="co"># The entry in the 47th row and 3rd column</span>
<span class="co">#&gt; # A tibble: 1 x 1</span>
<span class="co">#&gt;   from </span>
<span class="co">#&gt;   &lt;fct&gt;</span>
<span class="co">#&gt; 1 1</span>
<span class="va">email50</span><span class="op">[</span><span class="fl">47</span>,<span class="op">]</span> <span class="co"># The 47th row</span>
<span class="co">#&gt; # A tibble: 1 x 21</span>
<span class="co">#&gt;   spam  to_multiple from     cc sent_email time                image attach</span>
<span class="co">#&gt;   &lt;fct&gt; &lt;fct&gt;       &lt;fct&gt; &lt;int&gt; &lt;fct&gt;      &lt;dttm&gt;              &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt; 1 0     1           1         0 0          2012-03-06 07:10:00     0      0</span>
<span class="co">#&gt; # ... with 13 more variables: dollar &lt;dbl&gt;, winner &lt;fct&gt;, inherit &lt;dbl&gt;,</span>
<span class="co">#&gt; #   viagra &lt;dbl&gt;, password &lt;dbl&gt;, num_char &lt;dbl&gt;, line_breaks &lt;int&gt;,</span>
<span class="co">#&gt; #   format &lt;fct&gt;, re_subj &lt;fct&gt;, exclaim_subj &lt;dbl&gt;, urgent_subj &lt;fct&gt;,</span>
<span class="co">#&gt; #   exclaim_mess &lt;dbl&gt;, number &lt;fct&gt;</span></code></pre></div>
</div>
<div id="datastruc" class="section level3" number="1.7.2">
<h3>
<span class="header-section-number">1.7.2</span> Tidy structure of data<a class="anchor" aria-label="anchor" href="#datastruc"><i class="fas fa-link"></i></a>
</h3>
<p>For plotting, analyses, model building, etc., the data should be structured according to certain principles.<br>
Hadley Wickham provides a thorough discussion and advice for cleaning up the data in <span class="citation"><a href="references.html#ref-Wickham2014" role="doc-biblioref">Wickham and others</a> (<a href="references.html#ref-Wickham2014" role="doc-biblioref">2014</a>)</span>.</p>
<div class="onebox">
<p><strong>Tidy data.</strong></p>
<p>A data set in which the rows are the observational units and the columns are the variables.<br>
The key is that <em>every</em> row is a case and <em>every</em> column is a variable.<br>
No exceptions.</p>
</div>
<p>Creating tidy data is often not trivial! However, data sets provided in this course will always be in the tidy data form.</p>
</div>
<div id="using-the-pipe-to-chain" class="section level3" number="1.7.3">
<h3>
<span class="header-section-number">1.7.3</span> Using the pipe to chain<a class="anchor" aria-label="anchor" href="#using-the-pipe-to-chain"><i class="fas fa-link"></i></a>
</h3>
<p>Within <code>R</code> (really within any type of computing language, Python, SQL, Java, etc.), it is important to understand how to build data using the patterns of the language.</p>
<p>In <code>R</code>, the syntax <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> is called the <strong>assignment</strong> character; it is used to store the output of some function or set of operations in what we call an <strong>object</strong>. Some things to consider:</p>
<ul>
<li>
<code>object_name &lt;- anything</code> is a way of <em>assigning</em> <code>anything</code> to the new <code>object_name</code>.</li>
<li>
<code>object_name &lt;- function_name(data_table, arguments)</code> is a way of using a function to create a new object.</li>
<li>
<code>object_name &lt;- data_table %&gt;% function_name(arguments)</code> uses <em>chaining syntax</em> called the <strong>pipe operator</strong> (<code>%&gt;%</code>) as an extension of the ideas of functions.</li>
</ul>
<p>The pipe syntax (<code>%&gt;%</code>) takes a data frame (or data table) and sends it to the argument of a function. The mapping goes to the first available argument in the function.<br>
For example:</p>
<p><code>x %&gt;% f(y)</code> is the same as <code>f(x, y)</code></p>
<p><code>y %&gt;% f(x, ., z)</code> is the same as <code>f(x,y,z)</code></p>
<p>In chaining, the value on the left side of <code>%&gt;%</code> becomes the <em>first argument</em> to the function on the right side. This can be extended to multiple lines of code:</p>
<pre><code>object_name &lt;- data_table %&gt;%
                    function_name(arguments) %&gt;% 
                    another_function_name(other_arguments)</code></pre>
<p>This is called extended chaining.</p>
<p>Some properties of the pipe syntax (<code>%&gt;%</code>) to keep in mind:</p>
<ul>
<li><p><code>%&gt;%</code> is never at the front of the line, it is always connecting one idea with the continuation of that idea on the next line.</p></li>
<li><p>The spot to the left of the first <code>%&gt;%</code> is always a data table.</p></li>
<li><p>The pipe syntax should be read as <em>then</em>, <code>%&gt;%</code>.</p></li>
</ul>
<p>Pipes are used commonly with functions in the <code>dplyr</code> package (see <code>R</code> examples in Chapter <a href="eda.html#eda">2</a>) and they allow us to sequentially build data wrangling operations.
Pipes are also helpful when creating data visualizations in the <code>ggplot2</code> package.</p>
</div>
<div id="a-data-wrangling-example" class="section level3" number="1.7.4">
<h3>
<span class="header-section-number">1.7.4</span> A data wrangling example<a class="anchor" aria-label="anchor" href="#a-data-wrangling-example"><i class="fas fa-link"></i></a>
</h3>
<p>Consider the built-in data set <code>hsb2</code> — the “High School and Beyond” survey.<br>
Two hundred observations were randomly sampled from the “High School and Beyond” survey, a survey conducted on high school seniors by the National Center of Education Statistics.
Of interest is the proportion of students at each of the two types of school, <code>public</code> and <code>private</code>.</p>
<p>We use the <code>table</code> command to tabulate how many of each type of school are in the data set. Notice that the same result is produced by the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> command with <code>table</code> and the chaining syntax done with <code>%&gt;%</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">hsb2</span><span class="op">)</span> <span class="co"># Load the data</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">hsb2</span><span class="op">$</span><span class="va">schtyp</span><span class="op">)</span> 
<span class="co">#&gt; </span>
<span class="co">#&gt;  public private </span>
<span class="co">#&gt;     168      32</span></code></pre></div>
<p>is equivalent to</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hsb2</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">schtyp</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; .</span>
<span class="co">#&gt;  public private </span>
<span class="co">#&gt;     168      32</span></code></pre></div>
<div id="filtering" class="section level4 unnumbered">
<h4>Filtering<a class="anchor" aria-label="anchor" href="#filtering"><i class="fas fa-link"></i></a>
</h4>
<p>What if we are interested only in <code>public</code> schools?
First, we should take note of another piece of <code>R</code> syntax: the double equal sign: <code><a href="https://rdrr.io/r/base/Comparison.html">==</a></code>.
This is the logical test for “is equal to.”
In other words, we first determine if school type is equal to public for each of the observations in the data set and <code>filter</code> for those where this is true.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Filter for public schools</span>
<span class="va">hsb2_public</span> <span class="op">&lt;-</span> <span class="va">hsb2</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">schtyp</span> <span class="op">==</span> <span class="st">"public"</span><span class="op">)</span></code></pre></div>
<p>We can read this as: “take the <code>hsb2</code> data frame and <code>pipe</code> it into the <code>filter</code> function. Filter the data for <code>cases where school type is equal to public</code>. Then, <code>assign</code> the resulting data frame to a new object called <code>hsb2 underscore public</code>.”</p>
</div>
<div id="mutating" class="section level4 unnumbered">
<h4>Mutating<a class="anchor" aria-label="anchor" href="#mutating"><i class="fas fa-link"></i></a>
</h4>
<p>Suppose we are not interested in the actual reading score of students, but instead whether their reading score is below average or at or above average.
First, we need to calculate the average reading score with the <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> function.
This will give us the mean value, 52.23.
However, in order to be able to refer back to this value later on, we might want to store it as an object that we can refer to by name.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Calculate average reading score and show the value</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">hsb2</span><span class="op">$</span><span class="va">read</span><span class="op">)</span>
<span class="co">#&gt; [1] 52.2</span></code></pre></div>
<p>So instead of just printing the result, let’s save it as a new object called <code>avg_read</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Calculate average reading score and store as avg_read</span>
<span class="va">avg_read</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">hsb2</span><span class="op">$</span><span class="va">read</span><span class="op">)</span></code></pre></div>
<p>Next we need to determine whether each student is below or at or above average. For example, a reading score of 57 is above average, so is 68, but 44 is below.
Obviously, going through each record like this would be tedious and error prone.</p>
<p>Instead we can create this new variable with the <code>mutate()</code> function from the <code>dplyr</code> package (included in the <code>tidyverse</code> package).</p>
<p>We start with the data frame, <code>hsb2</code>, and pipe it into <code>mutate()</code>, to create a new variable called <code>read_cat</code> (<code>cat</code> for <code>cat</code>egorical).
Note that we are using a new variable name here in order to not overwrite the existing reading score variable.
The new variable <code>read_cat</code> will be a column in the existing data frame <code>hsb2</code>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hsb2</span> <span class="op">&lt;-</span> <span class="va">hsb2</span> <span class="op">%&gt;%</span> <span class="fu">mutate</span><span class="op">(</span>read_cat <span class="op">=</span> 
                          <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">read</span> <span class="op">&lt;</span> <span class="va">avg_read</span>, 
                                 <span class="st">"below average"</span>, 
                                 <span class="st">"at or above average"</span>
                                 <span class="op">)</span>
                        <span class="op">)</span></code></pre></div>
<p>The decision criteria for this new variable is based on a TRUE/FALSE question: if the reading score of the student is below the average reading score, label “below average,” otherwise, label “at or above average.”</p>
<p>This can be accomplished using the <code><a href="https://rdrr.io/r/base/ifelse.html">ifelse()</a></code> function in <code>R</code>. Look at its helpfile by typing <code><a href="https://rdrr.io/r/base/ifelse.html">?ifelse</a></code> into the <code>R</code> console window.</p>
<ul>
<li><p>The first argument of the function is the logical test.</p></li>
<li><p>The second argument is what to do if the result of the logical test is TRUE, in other words, if the student’s score is below the average score.</p></li>
<li><p>The last argument is what to do if the result is FALSE.</p></li>
</ul>
</div>
</div>
<div id="interactive-r-tutorials" class="section level3" number="1.7.5">
<h3>
<span class="header-section-number">1.7.5</span> Interactive R tutorials<a class="anchor" aria-label="anchor" href="#interactive-r-tutorials"><i class="fas fa-link"></i></a>
</h3>
<p>Navigate the concepts you’ve learned in this chapter in R using the following self-paced tutorials.
All you need is your browser to get started!</p>
<div class="alltutorials">
<p><a href="https://openintrostat.github.io/ims-tutorials/01-getting-started-with-data/">Tutorial 1: Getting Started with Data</a></p>
</div>
<div class="singletutorial">
<p><a href="https://openintro.shinyapps.io/ims-01-getting-started-with-data-01/">Tutorial 1 - Lesson 1: Language of data</a></p>
</div>
<div class="singletutorial">
<p><a href="https://openintro.shinyapps.io/ims-01-getting-started-with-data-02/">Tutorial 1 - Lesson 2: Types of studies</a></p>
</div>
<div class="singletutorial">
<p><a href="https://openintro.shinyapps.io/ims-01-getting-started-with-data-03/">Tutorial 1 - Lesson 3: Sampling strategies and Experimental design</a></p>
</div>
<div class="singletutorial">
<p><a href="https://openintro.shinyapps.io/ims-01-getting-started-with-data-04/">Tutorial 1 - Lesson 4: Case study</a></p>
</div>
<p>You can also access the full list of tutorials supporting this book <a href="https://openintrostat.github.io/ims-tutorials/">here</a>.</p>
</div>
<div id="r-labs" class="section level3" number="1.7.6">
<h3>
<span class="header-section-number">1.7.6</span> R labs<a class="anchor" aria-label="anchor" href="#r-labs"><i class="fas fa-link"></i></a>
</h3>
<p>Further apply the concepts you’ve learned in this chapter in R with computational labs that walk you through a data analysis case study.</p>
<div class="singlelab">
<p><a href="http://openintrostat.github.io/oilabs-tidy/01_intro_to_r/intro_to_r.html">Intro to R - Birth rates</a></p>
</div>
<div class="alllabs">
<p><a href="http://openintrostat.github.io/oilabs-tidy/">Full list of labs supporting OpenIntro::Introduction to Modern Statistics</a></p>
</div>
</div>
</div>
<div id="chp1-review" class="section level2" number="1.8">
<h2>
<span class="header-section-number">1.8</span> Chapter 1 review<a class="anchor" aria-label="anchor" href="#chp1-review"><i class="fas fa-link"></i></a>
</h2>
<div id="terms" class="section level3" number="1.8.1">
<h3>
<span class="header-section-number">1.8.1</span> Terms<a class="anchor" aria-label="anchor" href="#terms"><i class="fas fa-link"></i></a>
</h3>
<p>We introduced the following terms in the chapter.
If you’re not sure what some of these terms mean, we recommend you go back in the text and review their definitions.
We are purposefully presenting them in alphabetical order, instead of in order of appearance, so they will be a little more challenging to locate.
However you should be able to easily spot them as <strong>bolded text</strong>.</p>
<div class="inline-table"><table class="table table-sm"><tbody>
<tr>
<td style="text-align:left;">
anecdotal evidence
</td>
<td style="text-align:left;">
convenience sample
</td>
<td style="text-align:left;">
observational data
</td>
<td style="text-align:left;">
retrospective study
</td>
</tr>
<tr>
<td style="text-align:left;">
associated
</td>
<td style="text-align:left;">
data
</td>
<td style="text-align:left;">
observational study
</td>
<td style="text-align:left;">
sample
</td>
</tr>
<tr>
<td style="text-align:left;">
barplot
</td>
<td style="text-align:left;">
data frame
</td>
<td style="text-align:left;">
observational unit
</td>
<td style="text-align:left;">
sample bias
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
dependent
</td>
<td style="text-align:left;">
ordinal
</td>
<td style="text-align:left;">
sample size
</td>
</tr>
<tr>
<td style="text-align:left;">
blind
</td>
<td style="text-align:left;">
discrete
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
sampling bias
</td>
</tr>
<tr>
<td style="text-align:left;">
blocking
</td>
<td style="text-align:left;">
double-blind
</td>
<td style="text-align:left;">
placebo effect
</td>
<td style="text-align:left;">
selection bias
</td>
</tr>
<tr>
<td style="text-align:left;">
case
</td>
<td style="text-align:left;">
experiment
</td>
<td style="text-align:left;">
population
</td>
<td style="text-align:left;">
simple random sample
</td>
</tr>
<tr>
<td style="text-align:left;">
categorical
</td>
<td style="text-align:left;">
explanatory variable
</td>
<td style="text-align:left;">
positive association
</td>
<td style="text-align:left;">
simple random sampling
</td>
</tr>
<tr>
<td style="text-align:left;">
cluster
</td>
<td style="text-align:left;">
independent
</td>
<td style="text-align:left;">
prospective study
</td>
<td style="text-align:left;">
statistical investigation process
</td>
</tr>
<tr>
<td style="text-align:left;">
cluster sampling
</td>
<td style="text-align:left;">
level
</td>
<td style="text-align:left;">
quantitative
</td>
<td style="text-align:left;">
strata
</td>
</tr>
<tr>
<td style="text-align:left;">
cohort
</td>
<td style="text-align:left;">
multistage sample
</td>
<td style="text-align:left;">
randomized experiment
</td>
<td style="text-align:left;">
stratified sampling
</td>
</tr>
<tr>
<td style="text-align:left;">
confounding variable
</td>
<td style="text-align:left;">
negative association
</td>
<td style="text-align:left;">
replicate
</td>
<td style="text-align:left;">
summary statistic
</td>
</tr>
<tr>
<td style="text-align:left;">
continuous
</td>
<td style="text-align:left;">
nominal
</td>
<td style="text-align:left;">
representative
</td>
<td style="text-align:left;">
treatment group
</td>
</tr>
<tr>
<td style="text-align:left;">
control
</td>
<td style="text-align:left;">
non-response bias
</td>
<td style="text-align:left;">
response bias
</td>
<td style="text-align:left;">
variable
</td>
</tr>
<tr>
<td style="text-align:left;">
control group
</td>
<td style="text-align:left;">
non-response rate
</td>
<td style="text-align:left;">
response variable
</td>
<td style="text-align:left;">
</td>
</tr>
</tbody></table></div>
</div>
<div id="key-ideas" class="section level3" number="1.8.2">
<h3>
<span class="header-section-number">1.8.2</span> Key ideas<a class="anchor" aria-label="anchor" href="#key-ideas"><i class="fas fa-link"></i></a>
</h3>
<p>This chapter introduced us to data — how it is collected, how it is organized into a data frame, and the scope of inference allowed by the study design.</p>
<ul>
<li><p>A data set is comprised of measurements of <strong>variables</strong> on <strong>observational units</strong>.
The type of variable can be <strong>quantitative</strong> or <strong>categorical</strong>, and a variable’s role can be an <strong>explanatory variable</strong> or <strong>response variable</strong>.</p></li>
<li><p>Statistical inference uses data from a <strong>sample</strong> to make inferences about a larger, target <strong>population</strong>.
We can only generalize our results from the sample to the target population if the sampling methods were <strong>unbiased</strong>.
One unbiased sampling method is a <strong>simple random sample</strong>, where you <em>randomly select</em> your observational units for the sample from the complete list of observational units in the target population.</p></li>
<li><p>Various types of <strong>bias</strong> can arise in studies, particularly in surveys of individuals.
A study is biased if the way it was conducted would <em>systematically</em> under-represent or over-represent certain groups or responses.
<strong>Selection bias</strong> occurs when the method of selecting the sample is biased (e.g., convenience sample);
<strong>non-response bias</strong> occurs when individuals who were selected for the study do not respond or cannot be reached;
<strong>response bias</strong> occurs when the responses of individuals do not reflect the truth (e.g., due to confidentiality concerns, question wording, or sensitive topics).</p></li>
<li><p>In an <strong>observational study</strong>, we merely <em>observe</em> the behavior of the individuals in the study; we do not manipulate the variables on the individuals in any way. In a <strong>randomized experiment</strong>, we <em>randomly assign</em> values of an explanatory variable to the observational units, then observe the response variable. Random assignment allows us to investigate causal relationships because it balances out any potential <strong>confounding variables</strong>, on average.</p></li>
<li><p>The <strong>scope of inference</strong> of a study answers two questions: (1) To which population can the results can be <em>generalized</em>? (2) Can we assume any of the associations in the data are due to a <em>cause-and-effect relationship</em>?
We can only generalize to the target population if the sampling method was unbiased (e.g., simple random sample).
We can only conclude cause-and-effect if the study design was a randomized experiment.</p></li>
</ul>
</div>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="rstudio.html">Preliminaries: Getting started in RStudio</a></div>
<div class="next"><a href="eda.html"><span class="header-section-number">2</span> Exploratory data analysis</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#intro-to-data"><span class="header-section-number">1</span> Introduction to data</a></li>
<li><a class="nav-link" href="#basic-stents-strokes"><span class="header-section-number">1.1</span> Case study: using stents to prevent strokes</a></li>
<li>
<a class="nav-link" href="#data-basics"><span class="header-section-number">1.2</span> Data basics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#observations-variables-and-data-frames"><span class="header-section-number">1.2.1</span> Observations, variables, and data frames</a></li>
<li><a class="nav-link" href="#variable-types"><span class="header-section-number">1.2.2</span> Types of variables</a></li>
<li><a class="nav-link" href="#variable-relations"><span class="header-section-number">1.2.3</span> Relationships between variables</a></li>
<li><a class="nav-link" href="#explanatory-and-response-variables"><span class="header-section-number">1.2.4</span> Explanatory and response variables</a></li>
<li><a class="nav-link" href="#introducing-observational-studies-and-experiments"><span class="header-section-number">1.2.5</span> Introducing observational studies and experiments</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#sampling-principles-strategies"><span class="header-section-number">1.3</span> Sampling principles and strategies</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#populations-and-samples"><span class="header-section-number">1.3.1</span> Populations and samples</a></li>
<li><a class="nav-link" href="#anecdotal-evidence"><span class="header-section-number">1.3.2</span> Anecdotal evidence</a></li>
<li><a class="nav-link" href="#sampling-from-a-population"><span class="header-section-number">1.3.3</span> Sampling from a population</a></li>
<li><a class="nav-link" href="#samp-methods"><span class="header-section-number">1.3.4</span> Four sampling methods (special topic)</a></li>
</ul>
</li>
<li><a class="nav-link" href="#observational-studies"><span class="header-section-number">1.4</span> Observational studies</a></li>
<li>
<a class="nav-link" href="#experiments"><span class="header-section-number">1.5</span> Experiments</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#principles-of-experimental-design"><span class="header-section-number">1.5.1</span> Principles of experimental design</a></li>
<li><a class="nav-link" href="#reducing-bias-human-experiments"><span class="header-section-number">1.5.2</span> Reducing bias in human experiments</a></li>
</ul>
</li>
<li><a class="nav-link" href="#scope-of-inference"><span class="header-section-number">1.6</span> Scope of inference</a></li>
<li>
<a class="nav-link" href="#data-in-r"><span class="header-section-number">1.7</span> Data in R</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#dataframes-in-r"><span class="header-section-number">1.7.1</span> Dataframes in R</a></li>
<li><a class="nav-link" href="#datastruc"><span class="header-section-number">1.7.2</span> Tidy structure of data</a></li>
<li><a class="nav-link" href="#using-the-pipe-to-chain"><span class="header-section-number">1.7.3</span> Using the pipe to chain</a></li>
<li><a class="nav-link" href="#a-data-wrangling-example"><span class="header-section-number">1.7.4</span> A data wrangling example</a></li>
<li><a class="nav-link" href="#interactive-r-tutorials"><span class="header-section-number">1.7.5</span> Interactive R tutorials</a></li>
<li><a class="nav-link" href="#r-labs"><span class="header-section-number">1.7.6</span> R labs</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#chp1-review"><span class="header-section-number">1.8</span> Chapter 1 review</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#terms"><span class="header-section-number">1.8.1</span> Terms</a></li>
<li><a class="nav-link" href="#key-ideas"><span class="header-section-number">1.8.2</span> Key ideas</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/MTstateIntroStats/IntroStatTextbook/blob/master/01-intro-to-data.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/MTstateIntroStats/IntroStatTextbook/edit/master/01-intro-to-data.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Montana State Introductory Statistics with R</strong>: Spring 2021" was written by Nicole Carnegie, Stacey Hancock, Elijah Meyer, Jade Schmidt, Melinda Yager. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
